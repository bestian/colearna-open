import{R as Wt,r as g,c as A,L as vt,h as i,w as ae,g as Ot,K as dn,d as xt,ak as Yt,o as Ut,p as Da,Y as Qt,v as ca,x as ka,y as gt,f as Ze,A as it,C as Ft,H as St,U as Mt,F as wa,S as Ta,D as cn,E as on,G as sn,_ as fn}from"./index.18097bb9.js";import{Q as Bt}from"./QBtn.944b07d1.js";import{Q as oa}from"./QIcon.6d082352.js";import{Q as sa}from"./QItem.35ff711a.js";import{Q as Wa}from"./QList.483167a7.js";const Ua=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,vn=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,yn=[0,31,28,31,30,31,30,31,31,30,31,30,31],hn=[0,31,29,31,30,31,30,31,31,30,31,30,31],_n=28,gn=31,Ct=12,Ea=1,qa=1,Pt=7,fa=60,xa=24,mn=6048e5;function tt(){const e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate();return[e.getFullYear(),ct(t,2),ct(n,2)].join("-")}function Xt(e,t,n){let l=Se(e);if(l.day===1||l.weekday===0)for(;!t.includes(l.weekday);)l=qt(l);return l=Za(l,t[0],Ia),l=mt(l),n&&(l=Ht(l,n,l.hasTime)),l}function Et(e,t,n){let l=Se(e);if(Dt(l.year,l.month)===l.day||l.weekday===6)for(;!t.includes(l.weekday);)l=Ia(l);return l=Za(l,t[t.length-1],qt),l=mt(l),n&&(l=Ht(l,n,l.hasTime)),l}function va(e){const t=Se(e);return t.day=qa,mt(t),t}function Vt(e){const t=Se(e);return t.day=Dt(t.year,t.month),mt(t),t}function Na(e){switch(Object.prototype.toString.call(e)){case"[object Number]":return e;case"[object String]":{const n=vn.exec(e);return n?parseInt(n[1],10)*60+parseInt(n[3]||0,10):!1}case"[object Object]":return typeof e.hour!="number"||typeof e.minute!="number"?!1:e.hour*60+e.minute}return!1}function Oa(e){return!!Ua.exec(e)}function ke(e){const t=Ua.exec(e);return t?{date:e,time:ct(parseInt(t[6],10)||0,2)+":"+ct(parseInt(t[8],10)||0,2),year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[4],10)||1,hour:isNaN(parseInt(t[6],10))?0:parseInt(t[6],10),minute:isNaN(parseInt(t[8],10))?0:parseInt(t[8],10),weekday:0,doy:0,workweek:0,hasDay:!!t[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function Ee(e,t){let n=ke(e);return n===null?null:(n=mt(n),t&&Ht(n,t,n.hasTime),n)}function kn(e,t=!1){const n=t?"UTC":"";return mt({date:ct(e[`get${n}FullYear`](),4)+"-"+ct(e[`get${n}Month`]()+1,2)+"-"+ct(e[`get${n}Date`](),2),time:ct(e[`get${n}Hours`]()||0,2)+":"+ct(e[`get${n}Minutes`]()||0,2),year:e[`get${n}FullYear`](),month:e[`get${n}Month`]()+1,day:e[`get${n}Date`](),hour:e[`get${n}Hours`](),minute:e[`get${n}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function ne(e){return e.year*1e8+e.month*1e6+e.day*1e4}function Kt(e){return e.hour*100+e.minute}function Tt(e){return ne(e)+Kt(e)}function Ht(e,t,n=!1){let l=ne(t),f=ne(e),b=l===f;return e.hasTime&&n&&b&&(l=Kt(t),f=Kt(e),b=l===f),e.past=f<l,e.current=b,e.future=f>l,e.currentWeekday=e.weekday===t.weekday,e}function wn(e,t,n){return e.hasTime=!0,e.hour=Math.floor(t/fa),e.minute=t%fa,e.time=Ra(e),n&&Ht(e,n,!0),e}function Pa(e){return e.weekday=Xa(e),e}function bn(e){return e.doy=Qa(e),e}function Dn(e,t,n,l,f){const b=ne(e);if(t!==void 0){const s=ne(ke(t));b<=s&&(e.disabled=!0)}if(e.disabled!==!0&&n!==void 0){const s=ne(ke(n));b>=s&&(e.disabled=!0)}if(e.disabled!==!0&&Array.isArray(l)&&l.length>0){for(const s in l)if(l[s]===e.weekday){e.disabled=!0;break}}if(e.disabled!==!0&&Array.isArray(f)&&f.length>0){for(const s in f)if(Array.isArray(f[s])&&f[s].length===2){const m=ke(f[s][0]),F=ke(f[s][1]);if(Wn(e,m,F)){e.disabled=!0;break}}else if(ne(Ee(f[s]+" 00:00"))===b){e.disabled=!0;break}}return e}function mt(e){return e.hasTime=!0,e.time=Ra(e),e.date=ja(e),e.weekday=Xa(e),e.doy=Qa(e),e.workweek=qn(e),e}function Qa(e){if(e.year!==0)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function qn(e){e.year===0&&(e=Ee(tt()));const t=Sn(e);if(isNaN(t))return 0;const n=new Date(t.getFullYear(),t.getMonth(),t.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const l=new Date(n.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const f=n.getTimezoneOffset()-l.getTimezoneOffset();n.setHours(n.getHours()-f);const b=(n-l)/mn;return 1+Math.floor(b)}function Xa(e){let t=e.weekday;if(e.hasDay){const n=Math.floor,l=e.day,f=(e.month+9)%Ct+1,b=n(e.year/100),s=e.year%100-(e.month<=2?1:0);t=((l+n(2.6*f-.2)-2*b+s+n(s/4)+n(b/4))%7+7)%7}return t}function Fn(e){return(e%4===0^e%100===0^e%400===0)===1}function Dt(e,t){return Fn(e)?hn[t]:yn[t]}function Se(e){return{...e}}function ct(e,t){let n=String(e);for(;n.length<t;)n="0"+n;return n}function ja(e){let t=`${ct(e.year,4)}-${ct(e.month,2)}`;return e.hasDay&&(t+=`-${ct(e.day,2)}`),t}function Ra(e){return e.hasTime?`${ct(e.hour,2)}:${ct(e.minute,2)}`:""}function La(e){return ja(e)+" "+(e.hasTime?Ra(e):"00:00")}function qt(e){return++e.day,e.weekday=(e.weekday+1)%Pt,e.day>_n&&e.day>Dt(e.year,e.month)&&(e.day=qa,++e.month,e.month>Ct&&(e.month=Ea,++e.year)),e}function Ia(e){return e.day--,e.weekday=(e.weekday+6)%Pt,e.day<qa&&(e.month--,e.month<Ea&&(e.year--,e.month=Ct),e.day=Dt(e.year,e.month)),e}function Ka(e,t=qt,n=1,l=[0,1,2,3,4,5,6]){return $t(e,t,n,l)}function $t(e,t=qt,n=1,l=[0,1,2,3,4,5,6]){for(!l.includes(e.weekday)&&e.weekday===0&&t===qt&&++n;--n>=0;)e=t(e),l.length<7&&!l.includes(e.weekday)&&++n;return e}function Za(e,t,n=qt,l=6){for(;e.weekday!==t&&--l>=0;)e=n(e);return e}function Cn(e){const t=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let l=0;l<e.length;++l)n[e[l]]=1;for(let l=0;l<Pt;++l){let f=1;for(let b=1;b<Pt;++b){const s=(l+b)%Pt;if(n[s])break;++f}t[l]=n[l]*f}return t}function ba(e,t,n,l,f,b,s=[],m=[],F=42,O=0){const x=ne(t),L=[];let M=Se(e),$=0,Z=$===x;if(x<ne(e))return L;for(;(!Z||L.length<O)&&L.length<F&&($=ne(M),Z=Z||$>x&&L.length>=O,!Z);){if(l[M.weekday]===0){M=$t(M,qt);continue}const z=Se(M);mt(z),Ht(z,n),Dn(z,f,b,s,m),L.push(z),M=$t(M,qt)}return L}function Hn(e,t,n,l,f){const b=[];for(let s=0;s<l;++s){const m=(t+s)*n,F=Se(e);b.push(wn(F,m,f))}return b}function zt(e,t){const n=(l,f)=>"";return typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined"?n:(l,f)=>{try{return new Intl.DateTimeFormat(e||void 0,t(l,f)).format(Tn(l))}catch(b){return console.error(`Intl.DateTimeFormat: ${b.message} -> ${La(l)}`),n}}}function Sn(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function Tn(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function Qe(e){return isFinite(parseInt(e,10))}function Wn(e,t,n,l){const f=ne(e)+(l===!0?Kt(e):0),b=ne(t)+(l===!0?Kt(t):0),s=ne(n)+(l===!0?Kt(n):0);return f>=b&&f<=s}function Me(e,t){const n=Se(e);let l;return xn(t,(f,b)=>{if(n[b]!==void 0){n[b]+=parseInt(f,10);const s=$a.indexOf(b);s!==-1&&(l===void 0?l=s:l=Math.min(s,l))}}),l!==void 0&&En(n,$a[l]),mt(n),n}const $a=["minute","hour","day","month"];function xn(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function An(e){if(e.minute>=fa||e.minute<0){const t=Math.floor(e.minute/fa);e.minute-=t*fa,e.hour+=t,Ga(e)}return e}function Ga(e){if(e.hour>=xa||e.hour<0){const t=Math.floor(e.hour/xa);e.hour-=t*xa,e.day+=t,Ja(e)}return e}function Ja(e){Nt(e);let t=Dt(e.year,e.month);if(e.day>t){++e.month,e.month>Ct&&Nt(e);let n=e.day-t;t=Dt(e.year,e.month);do n>t&&(++e.month,e.month>Ct&&Nt(e),n-=t,t=Dt(e.year,e.month));while(n>t);e.day=n}else if(e.day<=0){let n=-1*e.day;--e.month,e.month<=0&&Nt(e),t=Dt(e.year,e.month);do n>t&&(n-=t,--e.month,e.month<=0&&Nt(e),t=Dt(e.year,e.month));while(n>t);e.day=t-n}return e}function Nt(e){if(e.month>Ct){const t=Math.floor(e.month/Ct);e.month=e.month%Ct,e.year+=t}else e.month<Ea&&(e.month+=Ct,--e.year);return e}function En(e,t){switch(t){case"minute":return An(e);case"hour":return Ga(e);case"day":return Ja(e);case"month":return Nt(e)}}function J(e,t="px"){if(!(e==null||e===""))return isNaN(e)?String(e):e==="auto"?e:`${Number(e)}${t}`}function ya(e,t){return t===0?e:e.slice(0,t)}var kt={name:"ResizeObserver",mounted(e,{modifiers:t,value:n}){if(!n)return;const l={};l.callback=n,l.size={width:0,height:0},l.observer=new ResizeObserver(f=>{const b=f[0].contentRect;(b.width!==l.size.width||b.height!==l.size.height)&&(l.size.width=b.width,l.size.height=b.height,l.callback(l.size))}),l.observer.observe(e),e.__onResizeObserver=l},beforeUnmount(e){if(!e.__onResizeObserver)return;const{observer:t}=e.__onResizeObserver;t.unobserve(e),delete e.__onResizeObserver}};function jt(e,t,{scrollArea:n,pane:l}){if(!t){const x="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(x),new Error(x)}const f=Wt({width:0,height:0}),b=g(null);function s({width:x,height:L}){f.width=x,f.height=L}const m=A(()=>e.noScroll!==!0&&n.value&&l.value&&f.height?n.value.offsetWidth-l.value.offsetWidth:0);function F(){}function O(){const x={ref:b,role:"complementary",lang:e.locale,class:{"q-calendar--dark":e.dark===!0,"q-calendar":!0,"q-calendar__bordered":e.bordered===!0}};return vt(i("div",x,[t()]),[[kt,s]])}return{rootRef:b,scrollWidth:m,__initCalendar:F,__renderCalendar:O}}const Zt={modelValue:{type:String,default:tt(),validator:e=>e===""||Oa(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","time","resource","task"].includes(n)!==!0&&(t=!1)}),t}}};function Gt(e,{startDate:t,endDate:n,times:l}){const f=A(()=>Cn(e.weekdays)),b=A(()=>Ee(t.value)),s=A(()=>n.value==="0000-00-00"?Z(b.value):Ee(n.value)),m=A(()=>{const q={timeZone:"UTC",day:"numeric"};return zt(e.locale,(B,S)=>q)}),F=A(()=>{const q={timeZone:"UTC",weekday:"long"},B={timeZone:"UTC",weekday:"short"};return zt(e.locale,(S,T)=>T?B:q)}),O=A(()=>{const q={timeZone:"UTC",dateStyle:"full"};return zt(e.locale,B=>q)});function x(q,B){return q&&q.length>0&&q.includes(B.date)}function L(q,B){const S={firstDay:!1,betweenDays:!1,lastDay:!1};if(q&&q.length===2){const T=ne(B),V=ne(ke(q[0])),he=ne(ke(q[1]));S.firstDay=V===T,S.lastDay=he===T,S.betweenDays=V<T&&he>T}return S}function M(q,B=!1,S=[],T=[],V=!1){const he=x(S,q),{firstDay:be,lastDay:_e,betweenDays:p}=L(T,q);return{"q-past-day":be!==!0&&p!==!0&&_e!==!0&&he!==!0&&B!==!0&&q.past,"q-future-day":be!==!0&&p!==!0&&_e!==!0&&he!==!0&&B!==!0&&q.future,"q-outside":B,"q-current-day":q.current,"q-selected":he,"q-range-first":be===!0,"q-range":p===!0,"q-range-last":_e===!0,"q-range-hover":V===!0&&(be===!0||_e===!0||p===!0),"q-disabled-day disabled":q.disabled===!0}}function $(q){return Xt(q,e.weekdays,l.today)}function Z(q){return Et(q,e.weekdays,l.today)}function z(q){}return{weekdaySkips:f,parsedStart:b,parsedEnd:s,dayFormatter:m,weekdayFormatter:F,ariaDateFormatter:O,arrayHasDate:x,checkDays:L,getRelativeClasses:M,startOfWeek:$,endOfWeek:Z,dayStyleDefault:z}}function za(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function On(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function Rn(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Ln(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function pa(e,t,n=0){const l=arguments[3]===void 0?performance.now():arguments[3],f=Rn(e);if(n<=0){f!==t&&za(e,t);return}requestAnimationFrame(b=>{const s=b-l,m=f+(t-f)/Math.max(s,n)*s;za(e,m),m!==t&&pa(e,t,n-s,b)})}function en(e,t,n=0){const l=arguments[3]===void 0?performance.now():arguments[3],f=Ln(e);if(n<=0){f!==t&&On(e,t);return}requestAnimationFrame(b=>{const s=b-l,m=f+(t-f)/Math.max(s,n)*s;setHorizontalScroll(e,m),m!==t&&en(e,t,n-s,b)})}const Ma={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Qe},intervalMinutes:{type:[Number,String],default:60,validator:Qe},intervalStart:{type:[Number,String],default:0,validator:Qe},intervalCount:{type:[Number,String],default:24,validator:Qe},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},tn={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Qe},resourceMinHeight:{type:[Number,String],default:70,validator:Qe},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},In={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Qe},dayMinHeight:{type:[Number,String],default:40,validator:Qe}},an={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Qe},resourceMinHeight:{type:[Number,String],default:70,validator:Qe},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Qe},noSticky:Boolean};function Fa(e,{weekdaySkips:t,times:n,scrollArea:l,parsedStart:f,parsedEnd:b,maxDays:s,size:m,headerColumnRef:F}){const O=A(()=>parseInt(e.intervalStart,10)),x=A(()=>parseInt(e.intervalMinutes,10)),L=A(()=>parseInt(e.intervalCount,10)),M=A(()=>parseFloat(e.intervalHeight)),$=A(()=>{let h=0;return e.cellWidth?h=e.cellWidth:m.width>0&&F.value&&(h=F.value.offsetWidth/(e.columnCount>1?e.columnCount:s.value)),h}),Z=A(()=>O.value*x.value),z=A(()=>L.value*M.value),q=A(()=>L.value*$.value),B=A(()=>he(f.value)),S=A(()=>be(b.value)),T=A(()=>ba(f.value,b.value,n.today,t.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,s.value)),V=A(()=>T.value.map(h=>Hn(h,O.value,x.value,L.value,n.now)));function he(h){return Xt(h,e.weekdays,n.today)}function be(h){return Et(h,e.weekdays,n.today)}function _e(h,X){return h&&h.length>0&&h.includes(La(X))}function p(h,X){const K={firstDay:!1,betweenDays:!1,lastDay:!1};if(h&&h.length===2){const ee=Tt(X),oe=Tt(ke(h[0])),se=Tt(ke(h[1]));K.firstDay=oe===ee,K.lastDay=se===ee,K.betweenDays=oe<ee&&se>ee}return K}function N(h,X=[],K=[]){const ee=_e(X,h),{firstDay:oe,lastDay:se,betweenDays:ue}=p(K,h);return{"q-selected":ee,"q-range-first":oe===!0,"q-range":ue===!0,"q-range-last":se===!0,"q-disabled-interval disabled":h.disabled===!0}}function j(h,X=[],K=[]){return[]}const Q=A(()=>{const h={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},X={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},K={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return zt(e.locale,(ee,oe)=>oe?ee.minute===0?K:X:h)}),k=A(()=>{const h={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return zt(e.locale,X=>h)});function Te(h){const X=V.value[0][0];return!(X.hour===h.hour&&X.minute===h.minute)&&h.minute===0}function xe(h){}function Ne(h){}function ot(h,X,K=!1,ee=void 0){let oe=Se(X);const se=h.currentTarget.getBoundingClientRect(),ue=h,Fe=h,re=ue.changedTouches||ue.touches,Le=((re&&re[0]?re[0].clientY:Fe.clientY)-se.top)/M.value,We=Math.floor((K?Math.floor(Le):Le)*x.value);return We!==0&&(oe=Me(oe,{minute:We})),ee&&Ht(oe,ee,!0),oe}function at(h,X,K=!1,ee=void 0){let oe=Se(X);const se=h.currentTarget.getBoundingClientRect(),ue=h,Fe=h,re=ue.changedTouches||ue.touches,Le=((re&&re[0]?re[0].clientY:Fe.clientY)-se.top)/M.value,We=Math.floor((K?Math.floor(Le):Le)*x.value);return We!==0&&(oe=Me(oe,{minute:We})),ee&&Ht(oe,ee,!0),oe}function Xe(h,X,K=!1,ee=void 0){let oe=Se(X);const se=h.currentTarget.getBoundingClientRect(),ue=h,Fe=h,re=ue.changedTouches||ue.touches,Le=((re&&re[0]?re[0].clientX:Fe.clientX)-se.left)/$.value,We=Math.floor((K?Math.floor(Le):Le)*x.value);return We!==0&&(oe=Me(oe,{minute:We})),ee&&Ht(oe,ee,!0),oe}function Je(h,X){const K={timestamp:h};return K.timeStartPos=ce,K.timeDurationHeight=Re,X!==void 0&&(K.columnIndex=X),K}function De(h,X){const K={timestamp:Se(h)};return K.timeStartPosX=G,K.timeDurationWidth=qe,X!==void 0&&(K.index=X),K}function He(h,X=0){const K=ce(h);return K===!1||!l.value?!1:(pa(l.value,K,X),!0)}function Oe(h,X=0){const K=G(h);return K===!1||!l.value?!1:(en(l.value,K,X),!0)}function Re(h){return h/x.value*M.value}function qe(h){return h/x.value*$.value}function ut(h){return parseInt(h,10)*x.value/M.value}function ge(h){return parseInt(h,10)*x.value/$.value}function ce(h,X=!0){const K=Na(h);if(K===!1)return!1;const ee=Z.value,oe=L.value*x.value;let ue=(K-ee)/oe*z.value;return X&&(ue<0&&(ue=0),ue>z.value&&(ue=z.value)),ue}function G(h,X=!0){const K=Na(h);if(K===!1)return!1;const ee=Z.value,oe=L.value*x.value;let ue=(K-ee)/oe*q.value;return X&&(ue<0&&(ue=0),ue>q.value&&(ue=q.value)),ue}return{parsedIntervalStart:O,parsedIntervalMinutes:x,parsedIntervalCount:L,parsedIntervalHeight:M,parsedCellWidth:$,parsedStartMinute:Z,bodyHeight:z,bodyWidth:q,parsedWeekStart:B,parsedWeekEnd:S,days:T,intervals:V,intervalFormatter:Q,ariaDateTimeFormatter:k,arrayHasDateTime:_e,checkIntervals:p,getIntervalClasses:N,getResourceClasses:j,showIntervalLabelDefault:Te,showResourceLabelDefault:xe,styleDefault:Ne,getTimestampAtEventInterval:ot,getTimestampAtEvent:at,getTimestampAtEventX:Xe,getScopeForSlot:Je,getScopeForSlotX:De,scrollToTime:He,scrollToTimeX:Oe,timeDurationHeight:Re,timeDurationWidth:qe,heightToMinutes:ut,widthToMinutes:ge,timeStartPos:ce,timeStartPosX:G}}const Ca={columnCount:{type:[Number,String],default:0,validator:Qe},columnIndexStart:{type:[Number,String],default:0,validator:Qe}},ha={maxDays:{type:Number,default:1}},Rt={now:{type:String,validator:e=>e===""||Oa(e),default:""}};function Jt(e){const t=Wt({now:Ee("0000-00-00 00:00"),today:Ee("0000-00-00")}),n=A(()=>e.now?Ee(e.now):b());ae(()=>n,F=>f());function l(){t.now.current=t.today.current=!0,t.now.past=t.today.past=!1,t.now.future=t.today.future=!1}function f(){const F=n.value||b();s(F,t.now),m(F,t.now),s(F,t.today)}function b(){return kn(new Date)}function s(F,O){F.date!==O.date&&(O.year=F.year,O.month=F.month,O.day=F.day,O.weekday=F.weekday,O.date=F.date)}function m(F,O){F.time!==O.time&&(O.hour=F.hour,O.minute=F.minute,O.time=F.time)}return{times:t,parsedNow:n,setCurrent:l,updateCurrent:f,getNow:b,updateDay:s,updateTime:m}}function pt(e,{parsedView:t,parsedValue:n,times:l}){return{renderValues:A(()=>{const b=n.value;let s=e.maxDays,m=b,F=b;switch(t.value){case"month":m=va(b),F=Vt(b),s=Dt(m.year,m.month);break;case"week":case"week-agenda":case"week-scheduler":m=Xt(b,e.weekdays,l.today),F=Et(m,e.weekdays,l.today),s=e.weekdays.length;break;case"day":case"scheduler":case"agenda":F=Ka(Se(F),qt,s>1?s-1:s,e.weekdays),mt(F);break;case"month-interval":case"month-scheduler":case"month-agenda":m=va(b),F=Vt(b),mt(F),s=Dt(m.year,m.month);break;case"resource":s=1,F=Ka(Se(F),qt,s,e.weekdays),mt(F);break}return{start:m,end:F,maxDays:s}})}}const Mn=e=>e.replace(/(-\w)/g,t=>t[1].toUpperCase());let Aa,nn;function un(e,t){const n={};for(const l in e){const f=e[l],b=Mn("on-"+l);if(Aa===void 0){console.warn("$listeners has not been set up");return}if(Aa.value[b]===void 0)continue;const s="on"+f.event.charAt(0).toUpperCase()+f.event.slice(1),m=F=>{const O=F;return(f.button===void 0||O.buttons>0&&O.button===f.button)&&(f.prevent&&O.preventDefault(),f.stop&&O.stopPropagation(),nn(l,t(O,l))),f.result};s in n?Array.isArray(n[s])?n[s].push(m):n[s]=[n[s],m]:n[s]=m}return n}function Bn(e,t){return un(Ba(e),t)}function Ba(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function Ce(e){return Object.keys(Ba(e))}function ea(e,t){return nn=e,Aa=t,{getMouseEventHandlers:un,getDefaultMouseEventHandlers:Bn,getMouseEventName:Ba,getRawMouseEvents:Ce}}const ta=["moved"];function aa(e,{parsedView:t,parsedValue:n,weekdaySkips:l,direction:f,maxDays:b,times:s,emittedValue:m,emit:F}){function O(x=1){if(x===0){m.value=tt();return}let L=Se(n.value);const M=x>0,$=M?qt:Ia,Z=M?gn:qa;let z=M?x:-x;f.value=M?"next":"prev";const q=l.value.filter(B=>B!==0).length;for(;--z>=0;)switch(t.value){case"month":for(L.day=Z,$(L),Pa(L);l.value[L.weekday]===0;)L=Me(L,{day:M===!0?1:-1});break;case"week":case"week-agenda":case"week-scheduler":$t(L,$,q,e.weekdays);break;case"day":case"scheduler":case"agenda":$t(L,$,b.value,e.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":L.day=Z,$(L);break;case"resource":$t(L,$,b.value,e.weekdays);break}Pa(L),mt(L),bn(L),Ht(L,s.now),m.value=L.date,F("moved",L)}return{move:O}}const Nn=/^on[A-Z]/;function na(e=Ot()){return{emitListeners:A(()=>{const t={};return e.vnode!==void 0&&e.vnode!==null&&e.vnode.props!==null&&Object.keys(e.vnode.props).forEach(n=>{Nn.test(n)===!0&&(t[n]=!0)}),t})}}function Ge(){return[i("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function _a(e,t,n){const l=e.focusable===!0&&e.focusType.includes("date")===!0;return t.tabindex=l===!0?0:-1,i("button",t,[n,l===!0&&Ge()])}const ga={cellWidth:[Number,String]};function Ha(e){return{isSticky:A(()=>e.cellWidth!==void 0)}}const ua=["change"];function ra(e,{days:t,lastStart:n,lastEnd:l}){function f(){if(t.value&&t.value.length>0){const b=t.value[0].date,s=t.value[t.value.length-1].date;if(n.value===null||l.value===null||b!==n.value||s!==l.value)return n.value=b,l.value=s,e("change",{start:b,end:s,days:t.value}),!0}return!1}return{checkChange:f}}function Lt(){function e(n,{bubbles:l=!1,cancelable:f=!1}={}){try{return new CustomEvent(n,{bubbles:l,cancelable:f})}catch{const s=document.createEvent("Event");return s.initEvent(n,l,f),s}}function t(n,l){return[].concat(l).includes(n.keyCode)}return{createEvent:e,isKeyCode:t}}const{isKeyCode:Va}=Lt(),It={useNavigation:Boolean};function la(e,{rootRef:t,focusRef:n,focusValue:l,datesRef:f,days:b,parsedView:s,parsedValue:m,emittedValue:F,weekdaySkips:O,direction:x,times:L}){let M=!1;dn(()=>{Z()}),ae(()=>e.useNavigation,Q=>{Q===!0?$():Z()}),e.useNavigation===!0&&$();function $(){M!==!0&&document&&(M=!0,document.addEventListener("keyup",S),document.addEventListener("keydown",B))}function Z(){document&&(document.removeEventListener("keyup",S),document.removeEventListener("keydown",B),M=!1)}function z(Q){if(Q===void 0)return!1;if(document){const k=document.activeElement;if(k!==document.body&&t.value.contains(k)===!0)return!0}return!1}function q(){let Q=0;const k=setInterval(()=>{f.value[n.value]?(f.value[n.value].focus(),(++Q===50||document.activeElement===f.value[n.value])&&clearInterval(k)):clearInterval(k)},250)}function B(Q){z(Q)&&Va(Q,[33,34,35,36,37,38,39,40])&&(Q.stopPropagation(),Q.preventDefault())}function S(Q){if(z(Q)&&Va(Q,[33,34,35,36,37,38,39,40]))switch(Q.keyCode){case 33:_e();break;case 34:p();break;case 35:j();break;case 36:N();break;case 37:he();break;case 38:T();break;case 39:be();break;case 40:V();break}}function T(Q){let k=Se(l.value);if(s.value==="month"){if(k=Me(k,{day:-7}),l.value.month!==k.month){x.value="prev",F.value=k.date;return}}else(s.value==="day"||s.value==="week"||s.value==="month-interval")&&(k=Me(k,{minute:parseInt(e.intervalMinutes)}));x.value="prev",n.value=k.date}function V(Q){let k=Se(l.value);if(s.value==="month"){if(k=Me(k,{day:7}),l.value.month!==k.month){x.value="next",F.value=k.date;return}}else(s.value==="day"||s.value==="week"||s.value==="month-interval")&&(k=Me(k,{minute:parseInt(e.intervalMinutes)}));x.value="next",n.value=k.date}function he(Q){let k=Se(l.value);x.value="prev";do k=Me(k,{day:-1});while(O.value[k.weekday]===0);if(s.value==="month"||s.value==="month-interval"){if(l.value.month!==k.month){F.value=k.date;return}}else if(s.value==="week"){if(k.weekday>l.value.weekday){F.value=k.date;return}}else if(s.value==="day"){F.value=k.date;return}n.value=k.date}function be(Q){let k=Se(l.value);x.value="next";do k=Me(k,{day:1});while(O.value[k.weekday]===0);if(s.value==="month"||s.value==="month-interval"){if(l.value.month!==k.month){F.value=k.date;return}}else if(s.value==="week"){if(k.weekday<l.value.weekday){F.value=k.date;return}}else if(s.value==="day"){F.value=k.date;return}n.value=k.date}function _e(Q){let k=Se(l.value);if(s.value==="month"||s.value==="month-interval"){k=Me(k,{month:-1});const Te=k.day<=15?1:-1;for(;O.value[k.weekday]===0;)k=Me(k,{day:Te})}else s.value==="day"?k=Me(k,{day:-1}):s.value==="week"&&(k=Me(k,{day:-7}));x.value="prev",n.value=k.date}function p(Q){let k=Se(l.value);if(s.value==="month"||s.value==="month-interval"){k=Me(k,{month:1});const Te=k.day<=15?1:-1;for(;O.value[k.weekday]===0;)k=Me(k,{day:Te})}else s.value==="day"?k=Me(k,{day:1}):s.value==="week"&&(k=Me(k,{day:7}));x.value="next",n.value=k.date}function N(Q){let k=Se(l.value);for(s.value==="month"||s.value==="month-interval"?k=va(k):s.value==="week"&&(k=Xt(k,e.weekdays,L.today));O.value[k.weekday]===0;)k=Me(k,{day:-1});n.value=k.date}function j(Q){let k=Se(l.value);for(s.value==="month"||s.value==="month-interval"?k=Vt(k):s.value==="week"&&(k=Et(k,e.weekdays,L.today));O.value[k.weekday]===0;)k=Me(k,{day:-1});n.value=k.date}return{startNavigation:$,endNavigation:Z,tryFocus:q}}var Pn=xt({name:"QCalendarAgenda",directives:[kt],props:{...Zt,...In,...Ca,...ha,...Rt,...ga,...It},emits:["update:model-value",...ua,...ta,...Ce("-date"),...Ce("-head-day"),...Ce("-time")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g(null),m=g(null),F=g(null),O=g({}),x=g({}),L=g({}),M=g("next"),$=g(tt()),Z=g("0000-00-00"),z=g(0),q=g(e.modelValue),B=Wt({width:0,height:0}),S=g(!1),T=g(null),V=g(null);ae(()=>e.view,()=>{z.value=0});const he=A(()=>e.view==="month"?"month-interval":e.view),be=Ot();if(be===null)throw new Error("current instance is null");const{emitListeners:_e}=na(be),{isSticky:p}=Ha(e);ae(p,c=>{});const{times:N,setCurrent:j,updateCurrent:Q}=Jt(e);Q(),j();const{weekdaySkips:k,parsedStart:Te,parsedEnd:xe,dayFormatter:Ne,weekdayFormatter:ot,ariaDateFormatter:at,dayStyleDefault:Xe,getRelativeClasses:Je}=Gt(e,{startDate:$,endDate:Z,times:N}),De=A(()=>Ee(e.modelValue,N.now)||Te.value||N.today);F.value=De.value,m.value=De.value.date;const{renderValues:He}=pt(e,{parsedView:he,parsedValue:De,times:N}),{rootRef:Oe,scrollWidth:Re,__initCalendar:qe,__renderCalendar:ut}=jt(e,Be,{scrollArea:f,pane:b}),{days:ge,parsedCellWidth:ce,getScopeForSlot:G}=Fa(e,{weekdaySkips:k,times:N,scrollArea:f,parsedStart:Te,parsedEnd:xe,maxDays:z,size:B,headerColumnRef:s}),{move:h}=aa(e,{parsedView:he,parsedValue:De,weekdaySkips:k,direction:M,maxDays:z,times:N,emittedValue:q,emit:n}),{getDefaultMouseEventHandlers:X}=ea(n,_e),{checkChange:K}=ra(n,{days:ge,lastStart:T,lastEnd:V}),{isKeyCode:ee}=Lt(),{tryFocus:oe}=la(e,{rootRef:Oe,focusRef:m,focusValue:F,datesRef:O,days:ge,parsedView:he,parsedValue:De,emittedValue:q,weekdaySkips:k,direction:M,times:N}),se=A(()=>ge.value.length+(ue.value===!0?e.leftColumnOptions.length:0)+(Fe.value===!0?e.rightColumnOptions.length:0)+ge.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),ue=A(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),Fe=A(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),re=A(()=>{if(Oe.value){const c=B.width||Oe.value.getBoundingClientRect().width;if(c&&se.value)return(c-Re.value)/se.value+"px"}return 100/se.value+"%"});ae([ge],K,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(c,C)=>{if(q.value!==c){if(e.animated===!0){const r=ne(ke(c)),_=ne(ke(C));M.value=r>=_?"next":"prev"}q.value=c}m.value=c}),ae(q,(c,C)=>{if(q.value!==e.modelValue){if(e.animated===!0){const r=ne(ke(c)),_=ne(ke(C));M.value=r>=_?"next":"prev"}n("update:model-value",c)}}),ae(m,c=>{c&&(F.value=Ee(c))}),ae(F,c=>{O.value[m.value]?O.value[m.value].focus():oe()}),ae(()=>e.maxDays,c=>{z.value=c}),Yt(()=>{O.value={}}),Ut(()=>{qe()});function Ve(){q.value=tt()}function Le(c=1){h(c)}function We(c=1){h(-c)}function nt({width:c,height:C}){B.width=c,B.height=C}function $e(c){return c.date===q.value}function Ae(c,C){const r=t["head-column"],_={column:c,index:C,days:ge.value},u=p.value===!0?e.cellWidth:re.value,d=e.focusable===!0&&e.focusType.includes("weekday"),v=e.columnOptionsId!==void 0?c[e.columnOptionsId]:void 0,w={maxWidth:u,width:u};return i("div",{key:v,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:w,onDragenter:a=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(a,"head-column",_)===!0?S.value=v:S.value="")},onDragover:a=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(a,"head-column",_)===!0?S.value=v:S.value="")},onDragleave:a=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(a,"head-column",_)===!0?S.value=v:S.value="")},onDrop:a=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(a,"head-column",_)===!0?S.value=v:S.value="")},...X("-head-column",(a,y)=>({scope:{column:c,index:C},event:a}))},[e.noDefaultHeaderText!==!0&&wt(c),r&&r(_),Ge()])}function wt(c){const C=t["head-column-label"],r={column:c},_=e.columnOptionsLabel!==void 0?c[e.columnOptionsLabel]:c.label,u=i("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[C&&C({scope:r}),!C&&i("span",{class:"ellipsis"},_)]);return e.dateHeader==="stacked"?u:i("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[u])}function ze(){return i("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":p.value===!0},style:{marginRight:Re.value+"px"}},[yt()])}function yt(){return i("div",{ref:s,class:{"q-calendar-agenda__head--days__column":!0}},[st(),rt()])}function st(){return i("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ft()])}function rt(){const c=t["head-days-events"];return Da(()=>{if(L.value&&e.columnCount===0&&window)try{const C=window.getComputedStyle(L.value);x.value.parentElement.style.height=C.height,x.value.style.height=C.height}catch{}}),i("div",{class:{"q-calendar-agenda__head--days__event":!0}},[c&&i("div",{ref:x,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[c({scope:{days:ge.value,ref:L}})]),...ht()])}function ft(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[ue.value===!0&&e.leftColumnOptions.map((c,C)=>Ae(c,C)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,C)=>C+parseInt(e.columnIndexStart,10)).map(c=>_t(ge.value[0],c)),Fe.value===!0&&e.rightColumnOptions.map((c,C)=>Ae(c,C))]:[ue.value===!0&&e.leftColumnOptions.map((c,C)=>Ae(c,C)),ge.value.map(c=>_t(c)),Fe.value===!0&&e.rightColumnOptions.map((c,C)=>Ae(c,C))]}function ht(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,C)=>C+parseInt(e.columnIndexStart,10)).map(c=>lt(ge.value[0],c))]:ge.value.map(c=>lt(c))}function _t(c,C){const r=t["head-day"],_=t["head-date"],u=e.noActiveDate!==!0&&$e(c),d=G(c,C);d.activeDate=u,d.droppable=S.value===c.date,d.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1;const v=p.value===!0?e.cellWidth:re.value,w=e.weekdayStyle||Xe,a={width:v,maxWidth:v,...w({scope:d})};p.value===!0&&(a.minWidth=v);const y=typeof e.weekdayClass=="function"?e.weekdayClass({scope:d}):{},D=e.focusable===!0&&e.focusType.includes("weekday"),H={key:c.date+(C!==void 0?"-"+C:""),ref:R=>{O.value[c.date]=R},tabindex:D===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...y,...Je(c),"q-active-date":u,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":D===!0},style:a,onDragenter:R=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(R,"head-day",d)===!0?S.value=c.date:S.value="")},onDragover:R=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(R,"head-day",d)===!0?S.value=c.date:S.value="")},onDragleave:R=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(R,"head-day",d)===!0?S.value=c.date:S.value="")},onDrop:R=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(R,"head-day",d)===!0?S.value=c.date:S.value="")},onFocus:R=>{D===!0&&(m.value=c.date)},...X("-head-day",R=>({scope:d,event:R}))};return i("div",H,[r!==void 0&&r({scope:d}),r===void 0&&bt(c),r===void 0&&_&&_({scope:d}),Ge()])}function bt(c){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ye(c),e.noDefaultHeaderBtn!==!0&&Ie(c)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ye(c),e.noDefaultHeaderBtn!==!0&&Ie(c)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ye(c),e.noDefaultHeaderBtn!==!0&&Ie(c)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ye(c),e.noDefaultHeaderBtn!==!0&&Ie(c)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ie(c),e.noDefaultHeaderText!==!0&&Ye(c)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ie(c),e.noDefaultHeaderText!==!0&&Ye(c)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Ie(c),e.noDefaultHeaderText!==!0&&Ye(c)])}function lt(c,C){const r=t["head-day-event"],_=e.noActiveDate!==!0&&$e(c),u=G(c,C);u.activeDate=_,u.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1;const d=p.value===!0?e.cellWidth:re.value,v={width:d,maxWidth:d};return p.value===!0&&(v.minWidth=d),i("div",{key:"event-"+c.date+(C!==void 0?"-"+C:""),class:{"q-calendar-agenda__head--day__event":!0,...Je(c),"q-active-date":_},style:v},[r&&r({scope:u})])}function Ye(c){const C=t["head-weekday-label"],r=G(c);r.shortWeekdayLabel=e.shortWeekdayLabel;const _={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",_,C&&C({scope:r})||Ue(c,e.shortWeekdayLabel))}function Ue(c,C){const r=ot.value(c,C||e.weekdayBreakpoints[0]>0&&ce.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&ce.value<=e.weekdayBreakpoints[1]?ya(r,e.minWeekdayLabel):r)}function Ie(c){const C={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",C,pe(c))}function pe(c){const C=e.noActiveDate!==!0&&$e(c),r=Ne.value(c,!1),_=t["head-day-label"],u=t["head-day-button"],d={dayLabel:r,timestamp:c,activeDate:C,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1},v={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":c.current===!0,"q-calendar__focusable":!0},disabled:c.disabled,onKeydown:w=>{c.disabled!==!0&&ee(w,[13,32])&&(w.stopPropagation(),w.preventDefault())},onKeyup:w=>{c.disabled!==!0&&ee(w,[13,32])&&(q.value=c.date,_e.value.onClickDate!==void 0&&n("click-date",{scope:d}))},...X("-date",(w,a)=>((a==="click-date"||a==="contextmenu-date")&&(q.value=c.date,a==="click-date"&&w.preventDefault()),{scope:d,event:w}))};return e.noAria!==!0&&(v.ariaLabel=at.value(c)),u?u({scope:d}):_a(e,v,_?_({scope:d}):r)}function et(){return i("div",{class:"q-calendar-agenda__body"},[W()])}function W(){return p.value===!0?i("div",{ref:f,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[ie()]):e.noScroll===!0?le():i("div",{ref:f,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[le()])}function le(){return i("div",{ref:b,class:"q-calendar-agenda__pane"},[ie()])}function ie(){const c=t["day-container"];return i("div",{class:"q-calendar-agenda__day-container"},[p.value===!0&&e.noHeader!==!0&&ze(),i("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...fe()]),c&&c({scope:{days:ge.value}})])}function fe(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[ue.value===!0&&e.leftColumnOptions.map((c,C)=>me(c,C)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,C)=>C+parseInt(e.columnIndexStart,10)).map(c=>ye(ge.value[0],0,c)),Fe.value===!0&&e.rightColumnOptions.map((c,C)=>me(c,C))]:[ue.value===!0&&e.leftColumnOptions.map((c,C)=>me(c,C)),ge.value.map((c,C)=>ye(c)),Fe.value===!0&&e.rightColumnOptions.map((c,C)=>me(c,C))]}function me(c,C){const r=t.column,_={column:c,days:ge.value,index:C},u=p.value===!0?e.cellWidth:re.value,d=e.focusable===!0&&e.focusType.includes("day"),v=e.columnOptionsId!==void 0?c[e.columnOptionsId]:void 0;return i("div",{key:v,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:{maxWidth:u,width:u},onDragenter:w=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(w,"column",_)===!0?S.value=v:S.value="")},onDragover:w=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(w,"column",_)===!0?S.value=v:S.value="")},onDragleave:w=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(w,"column",_)===!0?S.value=v:S.value="")},onDrop:w=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(w,"column",_)===!0?S.value=v:S.value="")},...X("-column",(w,a)=>({scope:_,event:w}))},[r&&r({scope:_})])}function ye(c,C,r){const _=t.day,u=G(c,r),d=p.value===!0?e.cellWidth:re.value,v={width:d,maxWidth:d};return p.value===!0&&(v.minWidth=d),v.height=parseInt(e.dayHeight,10)>0?J(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(v.minHeight=J(parseInt(e.dayMinHeight,10))),i("div",{key:c.date+(r!==void 0?":"+r:""),class:{"q-calendar-agenda__day":!0,...Je(c)},style:v},[_&&_({scope:u})])}function Be(){const{start:c,end:C,maxDays:r}=He.value;($.value!==c.date||Z.value!==C.date||z.value!==r)&&($.value=c.date,Z.value=C.date,z.value=r);const _=B.width>0,u=vt(i("div",{class:"q-calendar-agenda",key:$.value},[_===!0&&p.value!==!0&&e.noHeader!==!0&&ze(),_===!0&&et()]),[[kt,nt]]);if(e.animated===!0){const d="q-calendar--"+(M.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:d,appear:!0},()=>u)}return u}return l({prev:We,next:Le,move:h,moveToToday:Ve,updateCurrent:Q}),()=>ut()}}),Ya=xt({name:"QCalendarDay",directives:[kt],props:{...Zt,...Ma,...Ca,...ha,...Rt,...ga,...It},emits:["update:model-value",...ua,...ta,...Ce("-date"),...Ce("-interval"),...Ce("-head-intervals"),...Ce("-head-day"),...Ce("-time")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g(null),m=g(null),F=g(null),O=g({}),x=g({}),L=g({}),M=g("next"),$=g(e.modelValue||tt()),Z=g("0000-00-00"),z=g(0),q=g(e.modelValue),B=Wt({width:0,height:0}),S=g(!1),T=g(!1),V=g(null),he=g(null);ae(()=>e.view,()=>{z.value=0});const be=A(()=>e.view==="month"?"month-interval":e.view),_e=Ot();if(_e===null)throw new Error("current instance is null");const{emitListeners:p}=na(_e),{isSticky:N}=Ha(e),{times:j,setCurrent:Q,updateCurrent:k}=Jt(e);k(),Q();const{weekdaySkips:Te,parsedStart:xe,parsedEnd:Ne,dayFormatter:ot,weekdayFormatter:at,ariaDateFormatter:Xe,dayStyleDefault:Je,getRelativeClasses:De}=Gt(e,{startDate:$,endDate:Z,times:j}),He=A(()=>Ee(e.modelValue,j.now)||xe.value||j.today);F.value=He.value,m.value=He.value.date;const{renderValues:Oe}=pt(e,{parsedView:be,parsedValue:He,times:j}),{rootRef:Re,scrollWidth:qe,__initCalendar:ut,__renderCalendar:ge}=jt(e,dt,{scrollArea:f,pane:b}),{days:ce,intervals:G,intervalFormatter:h,ariaDateTimeFormatter:X,parsedCellWidth:K,getIntervalClasses:ee,showIntervalLabelDefault:oe,styleDefault:se,getTimestampAtEventInterval:ue,getTimestampAtEvent:Fe,getScopeForSlot:re,scrollToTime:Ve,heightToMinutes:Le,timeDurationHeight:We,timeStartPos:nt}=Fa(e,{weekdaySkips:Te,times:j,scrollArea:f,parsedStart:xe,parsedEnd:Ne,maxDays:z,size:B,headerColumnRef:s}),{move:$e}=aa(e,{parsedView:be,parsedValue:He,weekdaySkips:Te,direction:M,maxDays:z,times:j,emittedValue:q,emit:n}),{getDefaultMouseEventHandlers:Ae}=ea(n,p),{checkChange:wt}=ra(n,{days:ce,lastStart:V,lastEnd:he}),{isKeyCode:ze}=Lt(),{tryFocus:yt}=la(e,{rootRef:Re,focusRef:m,focusValue:F,datesRef:O,days:ce,parsedView:be,parsedValue:He,emittedValue:q,weekdaySkips:Te,direction:M,times:j}),st=A(()=>be.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):be.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:ce.value.length),rt=A(()=>Re.value?parseInt(getComputedStyle(Re.value).getPropertyValue("--calendar-intervals-width"),10):0),ft=A(()=>{if(Re.value){const o=B.width||Re.value.getBoundingClientRect().width;if(o&&rt.value&&st.value)return(o-qe.value-rt.value)/st.value+"px"}return 100/st.value+"%"});ae([ce],wt,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(o,I)=>{if(q.value!==e.modelValue){if(e.animated===!0){const P=ne(ke(o)),Y=ne(ke(I));M.value=P>=Y?"next":"prev"}q.value=o}m.value=o}),ae(q,(o,I)=>{if(q.value!==e.modelValue){if(e.animated===!0){const P=ne(ke(o)),Y=ne(ke(I));M.value=P>=Y?"next":"prev"}n("update:model-value",o)}}),ae(m,o=>{o&&(F.value=Ee(o))}),ae(F,o=>{O.value[m.value]?O.value[m.value].focus():yt()}),ae(()=>e.maxDays,o=>{z.value=o}),Yt(()=>{O.value={},x.value={},L.value={}}),Ut(()=>{ut()});function ht(){q.value=tt()}function _t(o=1){$e(o)}function bt(o=1){$e(-o)}function lt({width:o,height:I}){B.width=o,B.height=I}function Ye(o){return o.date===q.value}function Ue(){return i("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":N.value===!0},style:{marginRight:qe.value+"px"}},[Ie(),pe()])}function Ie(){const o=t["head-intervals"],I={timestamps:ce.value,days:ce.value,date:e.modelValue};return i("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":N.value===!0},...Ae("-head-intervals",P=>({scope:I,event:P}))},[o&&o({scope:I})])}function pe(){return i("div",{ref:s,class:{"q-calendar-day__head--days__column":!0}},[et(),W()])}function et(){return i("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...le()])}function W(){const o=t["head-days-events"];return Da(()=>{if(L.value&&parseInt(e.columnCount,10)===0&&window)try{const I=window.getComputedStyle(L.value);x.value.parentElement.style.height=I.height,x.value.style.height=I.height}catch{}}),i("div",{class:{"q-calendar-day__head--days__event":!0}},[o&&i("div",{ref:x,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[o({scope:{days:ce.value,ref:L}})]),...ie()])}function le(){return ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,I)=>I+parseInt(e.columnIndexStart,10)).map(o=>fe(ce.value[0],o)):ce.value.map(o=>fe(o))}function ie(){return ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,I)=>I+parseInt(e.columnIndexStart,10)).map(o=>ye(ce.value[0],o)):ce.value.map(o=>ye(o))}function fe(o,I){const P=t["head-day"],Y=t["head-date"],te=e.noActiveDate!==!0&&Ye(o),de=re(o,I);de.activeDate=te,de.droppable=S.value===o.date,de.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const Pe=N.value===!0?e.cellWidth:ft.value,we=e.weekdayStyle||Je,At={width:Pe,maxWidth:Pe,minWidth:Pe,...we({scope:de})};N.value===!0&&(At.minWidth=Pe);const ma=typeof e.weekdayClass=="function"?e.weekdayClass({scope:de}):{},da=e.focusable===!0&&e.focusType.includes("weekday"),Ke=o.date+(I!==void 0?"-"+I:""),ia={key:Ke,ref:je=>{O.value[Ke]=je},tabindex:da===!0?0:-1,class:{"q-calendar-day__head--day":!0,...ma,...De(o),"q-active-date":te,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":da===!0},style:At,onFocus:je=>{da===!0&&(m.value=Ke)},onKeydown:je=>{o.disabled!==!0&&ze(je,[13,32])&&(je.stopPropagation(),je.preventDefault())},onKeyup:je=>{o.disabled!==!0&&ze(je,[13,32])&&(q.value=o.date)},...Ae("-head-day",je=>({scope:de,event:je})),onDragenter:je=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(je,"head-day",de)===!0?S.value=o.date:S.value="")},onDragover:je=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(je,"head-day",de)===!0?S.value=o.date:S.value="")},onDragleave:je=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(je,"head-day",de)===!0?S.value=o.date:S.value="")},onDrop:je=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(je,"head-day",de)===!0?S.value=o.date:S.value="")}};return i("div",ia,[P!==void 0&&P({scope:de}),P===void 0&&_(o,I),P===void 0&&me(o),P===void 0&&Y&&Y({scope:de}),P===void 0&&u(o,I),Ge()])}function me(o){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Be(o),e.noDefaultHeaderBtn!==!0&&C(o)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(o),e.noDefaultHeaderBtn!==!0&&C(o)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(o),e.noDefaultHeaderBtn!==!0&&C(o)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Be(o),e.noDefaultHeaderBtn!==!0&&C(o)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&C(o),e.noDefaultHeaderText!==!0&&Be(o)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&C(o),e.noDefaultHeaderText!==!0&&Be(o)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&C(o),e.noDefaultHeaderText!==!0&&Be(o)])}function ye(o,I){const P=t["head-day-event"],Y=e.noActiveDate!==!0&&Ye(o),te=re(o,I);te.activeDate=Y,te.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const de=N.value===!0?J(K.value):ft.value,Pe={width:de,maxWidth:de,minWidth:de};return N.value===!0&&(Pe.minWidth=de),i("div",{key:"event-"+o.date+(I!==void 0?"-"+I:""),class:{"q-calendar-day__head--day__event":!0,...De(o),"q-active-date":Y},style:Pe},[P&&P({scope:te})])}function Be(o){const I=t["head-weekday-label"],P=e.shortWeekdayLabel===!0,Y=re(o);Y.shortWeekdayLabel=e.shortWeekdayLabel,Y.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const te={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",te,I&&I({scope:Y})||c(o,P))}function c(o,I){const P=at.value(o,I||e.weekdayBreakpoints[0]>0&&K.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&K.value<=e.weekdayBreakpoints[1]?ya(P,e.minWeekdayLabel):P)}function C(o){const I={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",I,r(o))}function r(o){const I=e.noActiveDate!==!0&&Ye(o),P=ot.value(o,!1),Y=t["head-day-label"],te=t["head-day-button"],de={dayLabel:P,timestamp:o,activeDate:I,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1},Pe={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":o.current===!0,"q-calendar__focusable":!0},disabled:o.disabled,onKeydown:we=>{o.disabled!==!0&&ze(we,[13,32])&&(we.stopPropagation(),we.preventDefault())},onKeyup:we=>{o.disabled!==!0&&ze(we,[13,32])&&(q.value=o.date,p.value.onClickDate!==void 0&&n("click-date",{scope:de}))},...Ae("-date",(we,At)=>((At==="click-date"||At==="contextmenu-date")&&(q.value=o.date,At==="click-date"&&we.preventDefault()),{scope:de,event:we}))};return e.noAria!==!0&&(Pe.ariaLabel=Xe.value(o)),te?te({scope:de}):_a(e,Pe,Y?Y({scope:de}):P)}function _(o,I){const P=t["column-header-before"];if(P)return i("div",{class:"q-calendar-day__column-header--before"},[P({scope:{timestamp:o,columnIndex:I}})])}function u(o,I){const P=t["column-header-after"];if(P)return i("div",{class:"q-calendar-day__column-header--after"},[P({scope:{timestamp:o,columnIndex:I}})])}function d(){return i("div",{class:"q-calendar-day__body"},[v()])}function v(){return N.value===!0?i("div",{ref:f,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[N.value!==!0&&E(),a()]):e.noScroll===!0?w():i("div",{ref:f,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[w()])}function w(){return i("div",{ref:b,class:"q-calendar-day__pane"},[E(),a()])}function a(){const o=t["day-container"];return i("div",{class:"q-calendar-day__day-container"},[N.value===!0&&e.noHeader!==!0&&Ue(),i("div",{style:{display:"flex",flexDirection:"row"}},[N.value===!0&&E(),...y()]),o&&o({scope:{days:ce.value}})])}function y(){return ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,I)=>I+parseInt(e.columnIndexStart,10)).map(o=>D(ce.value[0],0,o)):ce.value.map((o,I)=>D(o,I))}function D(o,I,P){const Y=t["day-body"],te=re(o,P),de=N.value===!0?e.cellWidth:ft.value,Pe={width:de,maxWidth:de,minWidth:de};return N.value===!0&&(Pe.minWidth=de),i("div",{key:o.date+(P!==void 0?":"+P:""),class:{"q-calendar-day__day":!0,...De(o)},style:Pe},[...H(I,P),Y&&Y({scope:te})])}function H(o,I){return G.value[o].map(P=>R(P,I))}function R(o,I){const P=J(e.intervalHeight),Y=e.intervalStyle||se,te=t["day-interval"],de=re(o,I);de.droppable=T.value===Tt(o);const Pe=typeof e.intervalClass=="function"?e.intervalClass({scope:de}):{},we=e.focusable===!0&&e.focusType.includes("interval"),ma={key:La(o),tabindex:we===!0?0:-1,class:{"q-calendar-day__day-interval":o.minute===0,"q-calendar-day__day-interval--section":o.minute!==0,...Pe,...ee(o,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":we===!0},style:{height:P,...Y({scope:de})},onDragenter:Ke=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Ke,"interval",de)===!0?T.value=Tt(o):T.value="")},onDragover:Ke=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Ke,"interval",de)===!0?T.value=Tt(o):T.value="")},onDragleave:Ke=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Ke,"interval",de)===!0?T.value=Tt(o):T.value="")},onDrop:Ke=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Ke,"interval",de)===!0?T.value=Tt(o):T.value="")},onKeydown:Ke=>{ze(Ke,[13,32])&&(Ke.stopPropagation(),Ke.preventDefault())},onKeyup:Ke=>{if(ze(Ke,[13,32])){const ia=re(o,I);q.value=ia.timestamp.date,p.value.onClickTime!==void 0&&n("click-time",{scope:ia,event:Ke})}},...Ae("-time",Ke=>({scope:re(ue(Ke,o,e.timeClicksClamped,j.now),I),event:Ke}))};e.noAria!==!0&&(ma.ariaLabel=X.value(o));const da=te?te({scope:de}):void 0;return i("div",ma,[da,Ge()])}function E(){const o={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":N.value===!0},...Ae("-interval",I=>({scope:{timestamp:Fe(I,xe.value,e.timeClicksClamped,j.now)},event:I}))};return i("div",o,ve())}function ve(){return G.value[0].map(o=>U(o))}function U(o){const I=t["interval-label"],P=J(e.intervalHeight),Y=e.shortIntervalLabel,Pe=(e.showIntervalLabel||oe)(o)?h.value(o,Y):void 0;return i("div",{key:o.time,class:{"q-calendar-day__interval":o.minute===0,"q-calendar-day__interval--section":o.minute!==0},style:{height:P}},[i("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[I?I({scope:{timestamp:o,label:Pe}}):Pe])])}function dt(){const{start:o,end:I,maxDays:P}=Oe.value;($.value!==o.date||Z.value!==I.date||z.value!==P)&&($.value=o.date,Z.value=I.date,z.value=P);const Y=B.width>0,te=vt(i("div",{key:$.value,class:"q-calendar-day"},[Y===!0&&N.value!==!0&&e.noHeader!==!0&&Ue(),Y&&d()]),[[kt,lt]]);if(e.animated===!0){const de="q-calendar--"+(M.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:de,appear:!0},()=>te)}return te}return l({prev:bt,next:_t,move:$e,moveToToday:ht,updateCurrent:k,timeStartPos:nt,timeDurationHeight:We,heightToMinutes:Le,scrollToTime:Ve}),()=>ge()}});const rn={dayHeight:{type:[Number,String],default:0,validator:Qe},dayMinHeight:{type:[Number,String],default:0,validator:Qe},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Qe,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Qe(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Kn(e,t,{weekdaySkips:n,times:l,parsedStart:f,parsedEnd:b,size:s,headerColumnRef:m}){const F=A(()=>parseInt(e.minWeeks,10)),O=A(()=>F.value*e.weekdays.length),x=A(()=>V(be(f.value))),L=A(()=>he(_e(b.value))),M=A(()=>{let N=0;return e.cellWidth?N=e.cellWidth:s.width>0&&m.value&&(N=m.value.offsetWidth/e.weekdays.length),N}),$=A(()=>ba(x.value,L.value,l.today,n.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,O.value)),Z=A(()=>{const N=l.today,j=V(N),Q=he(N);return ba(j,Q,N,n,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),z=A(()=>{const N={timeZone:"UTC",month:"long"},j={timeZone:"UTC",month:"short"};return zt(e.locale,(Q,k)=>k?j:N)}),q=A(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),B=A(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let S=!0;const T=A(()=>{const N=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&s.width<q.value;return S===!0&&(S=!1,t("mini-mode",N)),N});ae(T,N=>{t("mini-mode",N)});function V(N){return Xt(N,e.weekdays,l.today)}function he(N){return Et(N,e.weekdays,l.today)}function be(N){return va(N)}function _e(N){return Vt(N)}function p(N){const j=ne(N);return j<ne(f.value)||j>ne(b.value)}return{parsedCellWidth:M,parsedMinWeeks:F,parsedMinDays:O,parsedMonthStart:x,parsedMonthEnd:L,parsedBreakpoint:q,parsedMonthLabelSize:B,days:$,todayWeek:Z,isMiniMode:T,monthFormatter:z,isOutside:p}}var $n=xt({name:"QCalendarMonth",directives:[kt],props:{...Zt,...rn,...Rt,...ga,...It},emits:["update:model-value",...ua,...ta,"mini-mode",...Ce("-date"),...Ce("-day"),...Ce("-head-workweek"),...Ce("-head-day"),...Ce("-workweek")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g(null),m=g(null),F=g(null),O=g({}),x=g([]),L=g([]),M=g("next"),$=g(e.modelValue||tt()),Z=g("0000-00-00"),z=g(0),q=g(e.modelValue),B=Wt({width:0,height:0}),S=g(!1),T=g(!1),V=g(null),he=g(null),be=A(()=>"month"),_e=Ot();if(_e===null)throw new Error("current instance is null");const{emitListeners:p}=na(_e),{isSticky:N}=Ha(e);ae(N,r=>{});const{times:j,setCurrent:Q,updateCurrent:k}=Jt(e);k(),Q();const{weekdaySkips:Te,parsedStart:xe,parsedEnd:Ne,dayFormatter:ot,weekdayFormatter:at,ariaDateFormatter:Xe,dayStyleDefault:Je,getRelativeClasses:De}=Gt(e,{startDate:$,endDate:Z,times:j}),He=A(()=>Ee(e.modelValue,j.now)||xe.value||j.today);F.value=He.value,m.value=He.value.date;const Oe=A(()=>{const r={};return e.dayPadding!==void 0&&(r.padding=e.dayPadding),r.minWidth=nt.value,r.maxWidth=nt.value,r.width=nt.value,r}),{renderValues:Re}=pt(e,{parsedView:be,times:j,parsedValue:He}),{rootRef:qe,__initCalendar:ut,__renderCalendar:ge}=jt(e,C,{scrollArea:f,pane:b}),{days:ce,todayWeek:G,isMiniMode:h,parsedCellWidth:X,parsedMonthLabelSize:K,isOutside:ee,monthFormatter:oe}=Kn(e,n,{weekdaySkips:Te,times:j,parsedStart:xe,parsedEnd:Ne,size:B,headerColumnRef:s}),{move:se}=aa(e,{parsedView:be,parsedValue:He,weekdaySkips:Te,direction:M,maxDays:z,times:j,emittedValue:q,emit:n}),{getDefaultMouseEventHandlers:ue}=ea(n,p),{checkChange:Fe}=ra(n,{days:ce,lastStart:V,lastEnd:he}),{isKeyCode:re}=Lt(),{tryFocus:Ve}=la(e,{rootRef:qe,focusRef:m,focusValue:F,datesRef:O,days:ce,parsedView:be,parsedValue:He,emittedValue:q,weekdaySkips:Te,direction:M,times:j}),Le=A(()=>qe.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(qe.value).getPropertyValue(h.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),We=A(()=>e.weekdays.length),nt=A(()=>{if(qe.value){const r=B.width||qe.value.getBoundingClientRect().width;if(r&&We.value)return(r-Le.value)/We.value+"px"}return 100/We.value+"%"}),$e=A(()=>e.focusable===!0&&e.focusType.includes("day")&&h.value!==!0),Ae=A(()=>e.focusable===!0&&e.focusType.includes("date")&&$e.value!==!0);ae([ce],Fe,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(r,_)=>{if(q.value!==r){if(e.animated===!0){const u=ne(ke(r)),d=ne(ke(_));M.value=u>=d?"next":"prev"}q.value=r}m.value=r}),ae(q,(r,_)=>{if(q.value!==e.modelValue){if(e.animated===!0){const u=ne(ke(r)),d=ne(ke(_));M.value=u>=d?"next":"prev"}n("update:model-value",r)}}),ae(m,r=>{r&&(F.value=Ee(r),q.value!==r&&(q.value=r))}),ae(F,r=>{O.value[m.value]?O.value[m.value].focus():Ve()}),Yt(()=>{O.value={},x.value=[],L.value=[],Da(()=>{ht()})}),Ut(()=>{ut(),ht()});function wt(){q.value=tt()}function ze(r=1){se(r)}function yt(r=1){se(-r)}function st({width:r,height:_}){B.width=r,B.height=_}function rt(r){return r.date===q.value}function ft(r){for(let _=0;_<r.length;++_)if(r[_].current===!0)return{timestamp:r[_]};return{timestamp:!1}}function ht(){if(!(h.value===!0||e.dayHeight!==0||t.week===void 0)&&window)for(const _ in x.value){const u=x.value[_];if(u===void 0)continue;const d=L.value[_];if(d===void 0)continue;const v=window.getComputedStyle(u),w=parseFloat(v.marginTop,10)+parseFloat(v.marginBottom,10);u.clientHeight+w>d.clientHeight&&(d.style.height=u.clientHeight+w+"px")}}function _t(){return i("div",{class:"q-calendar-month__body"},[...W()])}function bt(){return i("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ye(),i("div",{class:"q-calendar-month__head--wrapper"},[lt()])])}function lt(){return i("div",{ref:s,class:{"q-calendar-month__head--weekdays":!0}},[...Ue()])}function Ye(){const r=t["head-workweek"],_={start:xe.value,end:Ne.value,miniMode:h.value};return i("div",{class:"q-calendar-month__head--workweek",...ue("-head-workweek",u=>({scope:_,event:u}))},r?r({scope:_}):"#")}function Ue(){return G.value.map((r,_)=>Ie(r,_))}function Ie(r,_){const u=t["head-day"],d=ce.value.filter(U=>U.weekday===r.weekday),v=d[0].weekday,a={activeDate:e.noActiveDate!==!0&&rt(r),weekday:v,timestamp:r,days:d,index:_,miniMode:h.value,droppable:S.value===r.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},y=typeof e.weekdayClass=="function"?e.weekdayClass({scope:a}):{},D=e.focusable===!0&&e.focusType.includes("weekday"),H=nt.value,R=e.weekdayStyle||Je,E={width:H,maxWidth:H,minWidth:H,...R({scope:a})},ve={key:r.date+(_!==void 0?"-"+_:""),tabindex:D===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...y,"q-disabled-day disabled":a.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":D===!0},style:E,onDragenter:U=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(U,"head-day",a)===!0?S.value=r.weekday:S.value="")},onDragover:U=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(U,"head-day",a)===!0?S.value=r.weekday:S.value="")},onDragleave:U=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(U,"head-day",a)===!0?S.value=r.weekday:S.value="")},onDrop:U=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(U,"head-day",a)===!0?S.value=r.weekday:S.value="")},onFocus:U=>{D===!0&&(m.value=r.date)},...ue("-head-day",U=>({scope:a,event:U}))};return e.noAria!==!0&&(ve.ariaLabel=at.value(r,!1)),i("div",ve,[u===void 0&&et(r,e.shortWeekdayLabel||h.value),u!==void 0&&u({scope:a}),pe(r,_),D===!0&&Ge()])}function pe(r,_){const u=t["head-day-event"],d=e.noActiveDate!==!0&&rt(r),v=ce.value.filter(R=>R.weekday===r.weekday),a={weekday:v[0].weekday,timestamp:r,days:v,index:_,miniMode:h.value,activeDate:d,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},y=nt.value,D=e.weekdayStyle||Je,H={width:y,maxWidth:y,minWidth:y,...D({scope:a})};return i("div",{key:"event-"+r.date+(_!==void 0?"-"+_:""),class:{"q-calendar-month__head--event":!0},style:H},[u!==void 0&&u({scope:a})])}function et(r,_){const u=at.value(r,_||e.weekdayBreakpoints[0]>0&&X.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},h.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&X.value<=e.weekdayBreakpoints[1]?ya(u,e.minWeekdayLabel):u)}function W(){const r=e.weekdays.length,_=[];for(let u=0;u<ce.value.length;u+=r)_.push(le(ce.value.slice(u,u+r),u/r));return _}function le(r,_){const u=t.week,d=e.weekdays,v={week:r,weekdays:d,miniMode:h.value},w={};w.height=e.dayHeight>0&&h.value!==!0?J(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&h.value!==!0&&(w.minHeight=J(parseInt(e.dayMinHeight,10)));const a=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return i("div",{key:r[0].date,ref:y=>{L.value[_]=y},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":a},style:w},[e.showWorkWeeks===!0?ie(r):void 0,i("div",{class:"q-calendar-month__week"},[i("div",{class:"q-calendar-month__week--days"},r.map((y,D)=>fe(y))),h.value!==!0&&u!==void 0?i("div",{ref:y=>{x.value[_]=y},class:"q-calendar-month__week--events"},u({scope:v})):void 0])])}function ie(r){const _=t.workweek,u=r.length>2?r[2]:r[0],{timestamp:d}=ft(r),v=Number(u.workweek).toLocaleString(e.locale),w={workweekLabel:v,week:r,miniMode:h.value};return i("div",{key:u.workweek,class:{"q-calendar-month__workweek":!0,...De(d!==!1?d:u,!1)},...ue("-workweek",a=>({scope:w,event:a}))},_?_({scope:w}):v)}function fe(r){const _=t.day,u=e.dayStyle||Je,d=ee(r),v=e.noActiveDate!==!0&&He.value.date===r.date,w=d===!1&&e.showMonthLabel===!0&&ce.value.find(E=>E.month===r.month).day===r.day,a={outside:d,timestamp:r,miniMode:h.value,activeDate:v,hasMonth:w,droppable:T.value===r.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},y=Object.assign({...Oe.value},u({scope:a})),D=typeof e.dayClass=="function"?e.dayClass({scope:a}):{},H={key:r.date,ref:E=>{$e.value===!0&&(O.value[r.date]=E)},tabindex:$e.value===!0?0:-1,class:{"q-calendar-month__day":!0,...D,...De(r,d,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":v===!0,disabled:e.enableOutsideDays!==!0&&d===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":$e.value===!0},style:y,onFocus:E=>{$e.value===!0&&(m.value=r.date)},onKeydown:E=>{d!==!0&&r.disabled!==!0&&re(E,[13,32])&&(E.stopPropagation(),E.preventDefault())},onKeyup:E=>{d!==!0&&r.disabled!==!0&&re(E,[13,32])&&(E.stopPropagation(),E.preventDefault(),p.value.onClickDay!==void 0&&h.value!==!0&&n("click-day",{scope:a,event:E}))},...ue("-day",E=>({scope:a,event:E}))};return d!==!0&&Object.assign(H,{onDragenter:E=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(E,"day",a)===!0?T.value=r.date:T.value="")},onDragover:E=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(E,"day",a)===!0?T.value=r.date:T.value="")},onDragleave:E=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(E,"day",a)===!0?T.value=r.date:T.value="")},onDrop:E=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(E,"day",a)===!0?T.value=r.date:T.value="")}}),e.noAria!==!0&&(H.ariaLabel=Xe.value(r)),i("div",H,[me(r,d,w),i("div",{class:{"q-calendar-month__day--content":!0}},_?_({scope:a}):void 0),$e.value===!0&&Ge()])}function me(r,_,u){let d,v;const w=[ye(r,_)];h.value!==!0&&u===!0&&B.width>340&&(v=c(r,_)),h.value!==!0&&e.showDayOfYearLabel===!0&&v===void 0&&B.width>300&&(d=Be(r,_)),e.dateAlign==="left"?(d!==void 0&&w.push(d),v!==void 0&&w.push(v)):e.dateAlign==="right"?(d!==void 0&&w.unshift(d),v!==void 0&&w.unshift(v)):(d=void 0,v=void 0);const a={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:d===void 0&&v===void 0,"q-calendar__justify":d!==void 0||v!==void 0}};return i("div",a,w)}function ye(r,_){if(_===!0&&e.noOutsideDays===!0)return;const u=ot.value(r,!1),d=t["head-day-label"],v=t["head-day-button"],w=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(r.date),a=e.noActiveDate!==!0&&rt(r),y={dayLabel:u,timestamp:r,outside:_,activeDate:a,selectedDate:w,miniMode:h.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},D={key:r.date,ref:H=>{Ae.value===!0&&(O.value[r.date]=H)},tabindex:Ae.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ae.value===!0},disabled:r.disabled===!0||e.enableOutsideDays!==!0&&_===!0,onFocus:H=>{Ae.value===!0&&(m.value=r.date)},onKeydown:H=>{_!==!0&&r.disabled!==!0&&re(H,[13,32])&&(H.stopPropagation(),H.preventDefault())},onKeyup:H=>{Ae.value===!0&&_!==!0&&r.disabled!==!0&&re(H,[13,32])&&(H.stopPropagation(),H.preventDefault(),q.value=r.date,p.value.onClickDate!==void 0&&n("click-date",{scope:y,event:H}))},...ue("-date",(H,R)=>(H.stopPropagation(),(R==="click-date"||R==="contextmenu-date")&&(q.value=r.date),{scope:y,event:H}))};return e.noAria!==!0&&(D.ariaLabel=Xe.value(r)),[v?v({scope:y}):_a(e,D,d?d({scope:y}):u),Ae.value===!0&&Ge()]}function Be(r,_){if(_===!0&&e.noOutsideDays===!0)return;const u=t["day-of-year"];return i("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},u?u({scope:{timestamp:r}}):r.doy)}function c(r,_){if(_===!0&&e.noOutsideDays===!0)return;const u=t["month-label"],d=oe.value(r,e.shortMonthLabel||B.width<500),v={monthLabel:d,timestamp:r,miniMode:h.value},w={};return h.value!==!0&&K.value!==void 0&&(w.fontSize=K.value),i("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:w},[u?u({scope:v}):h.value!==!0?d:void 0])}function C(){const{start:r,end:_}=Re.value;$.value=r.date,Z.value=_.date;const u=B.width>0,d=vt(i("div",{class:{"q-calendar-mini":h.value===!0,"q-calendar-month":!0},key:$.value},[u===!0&&e.noHeader!==!0&&bt(),u===!0&&_t()]),[[kt,st]]);if(e.animated===!0){const v="q-calendar--"+(M.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:v,appear:!0},()=>d)}return d}return l({prev:yt,next:ze,move:se,moveToToday:wt,updateCurrent:k}),()=>ge()}}),zn=xt({name:"QCalendarResource",props:{...Zt,...an,...Ma,...Ca,...ha,...Rt,...It},emits:["update:model-value","update:model-resources","resource-expanded",...ua,...ta,...Ce("-date"),...Ce("-interval"),...Ce("-head-day"),...Ce("-time"),...Ce("-head-resources"),...Ce("-resource")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g(null),m=g(null),F=g(null),O=g(null),x=g({}),L=g({}),M=g("next"),$=g(tt()),Z=g("0000-00-00"),z=g(0),q=g(e.modelValue),B=Wt({width:0,height:0}),S=g(!1),T=g(!1),V=g(!1),he=g(null),be=g(null);ae(()=>e.view,()=>{z.value=0});const _e=A(()=>e.view==="month"?"month-interval":e.view),p=A(()=>parseInt(e.cellWidth,10)),N=Ot();if(N===null)throw new Error("current instance is null");const{emitListeners:j}=na(N),{times:Q,setCurrent:k,updateCurrent:Te}=Jt(e);Te(),k();const{weekdaySkips:xe,parsedStart:Ne,parsedEnd:ot,dayStyleDefault:at}=Gt(e,{startDate:$,endDate:Z,times:Q}),Xe=A(()=>Ee(e.modelValue,Q.now)||Ne.value||Q.today);O.value=Xe.value,F.value=Xe.value.date;const{renderValues:Je}=pt(e,{parsedView:_e,times:Q,parsedValue:Xe}),{rootRef:De,__initCalendar:He,__renderCalendar:Oe}=jt(e,et,{scrollArea:f,pane:b}),{days:Re,intervals:qe,intervalFormatter:ut,styleDefault:ge,scrollToTimeX:ce,timeDurationWidth:G,timeStartPosX:h,widthToMinutes:X}=Fa(e,{weekdaySkips:xe,times:Q,scrollArea:f,parsedStart:Ne,parsedEnd:ot,maxDays:z,size:B,headerColumnRef:m}),{move:K}=aa(e,{parsedView:_e,parsedValue:Xe,weekdaySkips:xe,direction:M,maxDays:z,times:Q,emittedValue:q,emit:n}),{getDefaultMouseEventHandlers:ee}=ea(n,j),{checkChange:oe}=ra(n,{days:Re,lastStart:he,lastEnd:be}),{isKeyCode:se}=Lt(),{tryFocus:ue}=la(e,{rootRef:De,focusRef:F,focusValue:O,datesRef:x,days:Re,parsedView:_e,parsedValue:Xe,emittedValue:q,weekdaySkips:xe,direction:M,times:Q}),Fe=A(()=>{const W=parseInt(e.resourceHeight,10);return W===0?"auto":W}),re=A(()=>parseInt(e.resourceMinHeight,10)),Ve=A(()=>parseInt(e.intervalHeaderHeight,10));ae([Re],oe,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(W,le)=>{if(q.value!==W){if(e.animated===!0){const ie=ne(ke(W)),fe=ne(ke(le));M.value=ie>=fe?"next":"prev"}q.value=W}F.value=W}),ae(q,(W,le)=>{if(q.value!==e.modelValue){if(e.animated===!0){const ie=ne(ke(W)),fe=ne(ke(le));M.value=ie>=fe?"next":"prev"}n("update:model-value",W)}}),ae(F,W=>{W&&(O.value=Ee(W))}),ae(O,W=>{x.value[F.value]?x.value[F.value].focus():ue()}),Yt(()=>{x.value={},L.value={}}),Ut(()=>{He()});function Le(){q.value=tt()}function We(W=1){K(W)}function nt(W=1){K(-W)}function $e({width:W,height:le}){B.width=W,B.height=le}function Ae(W){return W.date===q.value}function wt(){const W={height:J(Ve.value)};return i("div",{ref:s,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:W},[ze(),yt()])}function ze(){const W=t["head-resources"],le=J(Ve.value),ie={timestamps:qe,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:le},...ee("-head-resources",fe=>({scope:ie,event:fe}))},[W&&W({scope:ie})])}function yt(){return i("div",{ref:m,class:{"q-calendar-resource__head--intervals":!0}},[qe.value.map(W=>W.map((le,ie)=>st(le,ie)))])}function st(W,le){const ie=t["interval-label"],fe=e.noActiveDate!==!0&&Ae(W),me=J(p.value),ye=J(Ve.value),Be=e.shortIntervalLabel,c=ut.value(W,Be),C={timestamp:W,index:le,label:c};C.droppable=S.value===c;const r=e.intervalStyle||at,_={width:me,maxWidth:me,minWidth:me,height:ye,...r({scope:C})},u=typeof e.intervalClass=="function"?e.intervalClass({scope:C}):{},d=e.focusable===!0&&e.focusType.includes("interval");return i("div",{key:c,tabindex:d===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...u,"q-active-date":fe,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:_,onDragenter:v=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(v,"interval",C)===!0?S.value=c:S.value="")},onDragover:v=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(v,"interval",C)===!0?S.value=c:S.value="")},onDragleave:v=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(v,"interval",C)===!0?S.value=c:S.value="")},onDrop:v=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(v,"interval",C)===!0?S.value=c:S.value="")},onFocus:v=>{d===!0&&(F.value=c)},...ee("-interval",v=>({scope:C,event:v}))},[ie?ie({scope:C}):c,Ge()])}function rt(){return i("div",{class:"q-calendar-resource__body"},[ft()])}function ft(){return i("div",{ref:f,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[_t()])}function ht(){return i("div",{},"No resources have been defined")}function _t(){return i("div",{class:"q-calendar-resource__day--container"},[wt(),e.modelResources===void 0&&ht(),e.modelResources!==void 0&&bt()])}function bt(){return i("div",{class:"q-calendar-resource__resources--body"},lt())}function lt(W=void 0,le=0,ie=!0){return W===void 0&&(W=e.modelResources),W.map((fe,me)=>Ye(fe,me,le,fe.children!==void 0?fe.expanded:ie))}function Ye(W,le,ie=0,fe=!0){const me={};me.height=Fe.value==="auto"?Fe.value:J(Fe.value),re.value>0&&(me.minHeight=J(re.value));const ye=i("div",{key:W[e.resourceKey]+"-"+le,class:{"q-calendar-resource__resource--row":!0},style:me},[Ue(W,le,ie,fe),Ie(W,le)]);return W.children!==void 0?[ye,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":fe===!0,"q-calendar__child--collapsed":fe!==!0}},[lt(W.children,ie+1,fe===!1?fe:W.expanded)])]:[ye]}function Ue(W,le,ie=0,fe=!0){const me=t["resource-label"],ye={};ye.height=W.height!==void 0?J(parseInt(W.height,10)):Fe.value?J(Fe.value):"auto",re.value>0&&(ye.minHeight=J(re.value));const Be=e.resourceStyle||ge,c=W[e.resourceLabel],C=e.focusable===!0&&e.focusType.includes("resource")&&fe===!0,r={resource:W,timestamps:qe,resourceIndex:le,indentLevel:ie,label:c},_=W[e.resourceKey];r.droppable=T.value===_;const u=typeof e.resourceClass=="function"?e.resourceClass({scope:r}):{};return i("div",{key:W[e.resourceKey]+"-"+le,ref:d=>{L.value[W[e.resourceKey]]=d},tabindex:C===!0?0:-1,class:{"q-calendar-resource__resource":ie===0,"q-calendar-resource__resource--section":ie!==0,...u,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":C===!0},style:{...ye,...Be({scope:r})},onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"resource",r)===!0?T.value=_:T.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"resource",r)===!0?T.value=_:T.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"resource",r)===!0?T.value=_:T.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"resource",r)===!0?T.value=_:T.value="")},onKeydown:d=>{se(d,[13,32])&&(d.stopPropagation(),d.preventDefault())},onKeyup:d=>{se(d,[13,32])&&j.value.onClickResource!==void 0&&n("click-resource",{scope:r,event:d})},...ee("-resource",d=>({scope:r,event:d}))},[[i("div",{class:{"q-calendar__parent":W.children!==void 0,"q-calendar__parent--expanded":W.children!==void 0&&W.expanded===!0,"q-calendar__parent--collapsed":W.children!==void 0&&W.expanded!==!0},onClick:d=>{d.stopPropagation(),W.expanded=!W.expanded,n("resource-expanded",{expanded:W.expanded,scope:r})}}),i("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*ie+2+"px"}},[me?me({scope:r}):c]),Ge()]])}function Ie(W,le){const ie=t["resource-intervals"],fe={resource:W,timestamps:qe,resourceIndex:le,timeStartPosX:h,timeDurationWidth:G};return i("div",{class:"q-calendar-resource__resource--intervals"},[qe.value.map(me=>me.map(ye=>pe(W,ye,le))),ie&&ie({scope:fe})])}function pe(W,le,ie){const fe=t["resource-interval"],me=e.noActiveDate!==!0&&Ae(le),ye={activeDate:me,resource:W,timestamp:le,resourceIndex:ie},Be=W[e.resourceKey],c=le.time+"-"+Be;ye.droppable=V.value===c;const C=e.focusable===!0&&e.focusType.includes("time"),r=e.intervalStyle||at,_=J(p.value),u={width:_,maxWidth:_,minWidth:_,...r({scope:ye})};return u.height=W.height!==void 0?J(parseInt(W.height,10)):Fe.value>0?J(Fe.value):"auto",re.value>0&&(u.minHeight=J(re.value)),i("div",{key:c,ref:d=>{x.value[W[e.resourceKey]]=d},tabindex:C===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":me,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":C===!0},style:u,onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"time",ye)===!0?V.value=c:V.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"time",ye)===!0?V.value=c:V.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"time",ye)===!0?V.value=c:V.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"time",ye)===!0?V.value=c:V.value="")},onFocus:d=>{C===!0&&(F.value=c)},...ee("-time",d=>({scope:ye,event:d}))},[fe&&fe({scope:ye}),Ge()])}function et(){const{start:W,end:le,maxDays:ie}=Je.value;($.value!==W.date||Z.value!==le.date||z.value!==ie)&&($.value=W.date,Z.value=le.date,z.value=ie);const fe=B.width>0,me=vt(i("div",{class:"q-calendar-resource",key:$.value},[fe===!0&&rt()]),[[kt,$e]]);if(e.animated===!0){const ye="q-calendar--"+(M.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:ye,appear:!0},()=>me)}return me}return l({prev:nt,next:We,move:K,moveToToday:Le,updateCurrent:Te,timeStartPosX:h,timeDurationWidth:G,widthToMinutes:X,scrollToTimeX:ce}),()=>Oe()}}),Vn=xt({name:"QCalendarScheduler",directives:[kt],props:{...Zt,...tn,...Ca,...ha,...Rt,...ga,...It},emits:["update:model-value","update:model-resources","resource-expanded",...ua,...ta,...Ce("-date"),...Ce("-day-resource"),...Ce("-head-resources"),...Ce("-head-day"),...Ce("-resource")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g(null),m=g(null),F=g(null),O=g({}),x=g({}),L=g({}),M=g({}),$=g("next"),Z=g(e.modelValue||tt()),z=g("0000-00-00"),q=g(0),B=g(e.modelValue),S=Wt({width:0,height:0}),T=g(!1),V=g(!1),he=g(null),be=g(null);ae(()=>e.view,()=>{q.value=0});const _e=A(()=>e.view==="month"?"month-interval":e.view),p=Ot();if(p===null)throw new Error("current instance is null");const{emitListeners:N}=na(p),{isSticky:j}=Ha(e),{times:Q,setCurrent:k,updateCurrent:Te}=Jt(e);Te(),k();const{weekdaySkips:xe,parsedStart:Ne,parsedEnd:ot,dayFormatter:at,weekdayFormatter:Xe,ariaDateFormatter:Je,dayStyleDefault:De,getRelativeClasses:He}=Gt(e,{startDate:Z,endDate:z,times:Q}),Oe=A(()=>Ee(e.modelValue,Q.now)||Ne.value||Q.today);F.value=Oe.value,m.value=Oe.value.date;const{renderValues:Re}=pt(e,{parsedView:_e,parsedValue:Oe,times:Q}),{rootRef:qe,scrollWidth:ut,__initCalendar:ge,__renderCalendar:ce}=jt(e,w,{scrollArea:f,pane:b}),{days:G,parsedCellWidth:h,styleDefault:X}=Fa(e,{weekdaySkips:xe,times:Q,scrollArea:f,parsedStart:Ne,parsedEnd:ot,maxDays:q,size:S,headerColumnRef:s}),{move:K}=aa(e,{parsedView:_e,parsedValue:Oe,weekdaySkips:xe,direction:$,maxDays:q,times:Q,emittedValue:B,emit:n}),{getDefaultMouseEventHandlers:ee}=ea(n,N),{checkChange:oe}=ra(n,{days:G,lastStart:he,lastEnd:be}),{isKeyCode:se}=Lt(),{tryFocus:ue}=la(e,{rootRef:qe,focusRef:m,focusValue:F,datesRef:O,days:G,parsedView:_e,parsedValue:Oe,emittedValue:B,weekdaySkips:xe,direction:$,times:Q}),Fe=A(()=>_e.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):_e.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:G.value.length),re=A(()=>qe.value?parseInt(getComputedStyle(qe.value).getPropertyValue("--calendar-resources-width"),10):0),Ve=A(()=>{const a=parseInt(e.resourceHeight,10);return a===0?"auto":a}),Le=A(()=>parseInt(e.resourceMinHeight,10)),We=A(()=>{if(qe.value){const a=S.width||qe.value.getBoundingClientRect().width;if(a&&re.value&&Fe.value)return(a-ut.value-re.value)/Fe.value+"px"}return 100/Fe.value+"%"});ae([G],oe,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(a,y)=>{if(B.value!==e.modelValue){if(e.animated===!0){const D=ne(ke(a)),H=ne(ke(y));$.value=D>=H?"next":"prev"}B.value=a}m.value=a}),ae(B,(a,y)=>{if(B.value!==e.modelValue){if(e.animated===!0){const D=ne(ke(a)),H=ne(ke(y));$.value=D>=H?"next":"prev"}n("update:model-value",a)}}),ae(m,a=>{a&&(F.value=Ee(a))}),ae(F,a=>{O.value[m.value]?O.value[m.value].focus():ue()}),ae(()=>e.maxDays,a=>{q.value=a}),Yt(()=>{O.value={},L.value={},M.value={},x.value={}}),Ut(()=>{ge()});function nt(){B.value=tt()}function $e(a=1){K(a)}function Ae(a=1){K(-a)}function wt({width:a,height:y}){S.width=a,S.height=y}function ze(a){return a.date===B.value}function yt(){return i("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":j.value===!0},style:{marginRight:ut.value+"px"}},[st(),rt()])}function st(){const a=t["head-resources"],y={days:G.value,timestamps:G.value,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":j.value===!0},...ee("-head-resources",D=>({scope:y,event:D}))},[a&&a({scope:y})])}function rt(){return i("div",{ref:s,class:{"q-calendar-scheduler__head--days__column":!0}},[ft(),ht()])}function ft(){return i("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[..._t()])}function ht(){const a=t["head-days-events"];return Da(()=>{if(M.value&&parseInt(e.columnCount,10)===0&&window)try{const y=window.getComputedStyle(M.value);L.value.parentElement.style.height=y.height,L.value.style.height=y.height}catch{}}),i("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[a&&i("div",{ref:L,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[a({scope:{timestamps:G.value,days:G.value,ref:M}})]),...bt()])}function _t(){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,y)=>y+parseInt(e.columnIndexStart,10)).map(a=>lt(G.value[0],a)):G.value.map(a=>lt(a))}function bt(){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((a,y)=>y+parseInt(e.columnIndexStart,10)).map(a=>Ue(G.value[0],a)):G.value.map(a=>Ue(a))}function lt(a,y){const D=t["head-day"],H=t["head-date"],R=e.noActiveDate!==!0&&ze(a),E={timestamp:a,activeDate:R,droppable:T.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};y!==void 0&&(E.columnIndex=y);const ve=j.value===!0?J(h.value):We.value,U=e.weekdayStyle||De,dt={width:ve,maxWidth:ve,minWidth:ve,...U({scope:E})};j.value===!0&&(dt.minWidth=ve);const o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:E}):{},I=e.focusable===!0&&e.focusType.includes("weekday"),P=a.date+(y!==void 0?"-"+y:""),Y={key:P,ref:te=>{O.value[P]=te},tabindex:I===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...o,...He(a),"q-active-date":R,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":I===!0},style:dt,onFocus:te=>{I===!0&&(m.value=P)},onKeydown:te=>{a.disabled!==!0&&se(te,[13,32])&&(te.stopPropagation(),te.preventDefault())},onKeyup:te=>{a.disabled!==!0&&se(te,[13,32])&&(B.value=a.date)},...ee("-head-day",te=>({scope:E,event:te})),onDragenter:te=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(te,"head-day",E)===!0?T.value=a.date:T.value="")},onDragover:te=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(te,"head-day",E)===!0?T.value=a.date:T.value="")},onDragleave:te=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(te,"head-day",E)===!0?T.value=a.date:T.value="")},onDrop:te=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(te,"head-day",E)===!0?T.value=a.date:T.value="")}};return i("div",Y,[D!==void 0&&D({scope:E}),D===void 0&&le(a,y),D===void 0&&Ye(a),D===void 0&&H&&H({scope:E}),D===void 0&&ie(a,y),Ge()])}function Ye(a){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ie(a),e.noDefaultHeaderBtn!==!0&&et(a)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ie(a),e.noDefaultHeaderBtn!==!0&&et(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ie(a),e.noDefaultHeaderBtn!==!0&&et(a)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ie(a),e.noDefaultHeaderBtn!==!0&&et(a)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(a),e.noDefaultHeaderText!==!0&&Ie(a)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(a),e.noDefaultHeaderText!==!0&&Ie(a)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&et(a),e.noDefaultHeaderText!==!0&&Ie(a)])}function Ue(a,y){const D=t["head-day-event"],H=e.noActiveDate!==!0&&ze(a),R={timestamp:a,activeDate:H,droppable:T.value===a.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(a.weekday):!1};y!==void 0&&(R.columnIndex=y);const E=j.value===!0?J(h.value):We.value,ve={width:E,maxWidth:E,minWidth:E};return j.value===!0&&(ve.minWidth=E),i("div",{key:"event-"+a.date+(y!==void 0?"-"+y:""),class:{"q-calendar-scheduler__head--day__event":!0,...He(a),"q-active-date":H},style:ve},[D&&D({scope:R})])}function Ie(a){const y=t["head-weekday-label"],D=e.shortWeekdayLabel===!0,H={timestamp:a,shortWeekdayLabel:D},R={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",R,y&&y({scope:H})||pe(a,D))}function pe(a,y){const D=Xe.value(a,y||e.weekdayBreakpoints[0]>0&&h.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&h.value<=e.weekdayBreakpoints[1]?ya(D,e.minWeekdayLabel):D)}function et(a){const y={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",y,W(a))}function W(a){const y=e.noActiveDate!==!0&&ze(a),D=at.value(a,!1),H=t["head-day-label"],R=t["head-day-button"],E={dayLabel:D,timestamp:a,activeDate:y},ve={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":a.current===!0,"q-calendar__focusable":!0},disabled:a.disabled,onKeydown:U=>{a.disabled!==!0&&se(U,[13,32])&&(U.stopPropagation(),U.preventDefault())},onKeyup:U=>{a.disabled!==!0&&se(U,[13,32])&&(B.value=a.date,N.value.onClickDate!==void 0&&n("click-date",{scope:E}))},...ee("-date",(U,dt)=>((dt==="click-date"||dt==="contextmenu-date")&&(B.value=a.date,dt==="click-date"&&U.preventDefault()),{scope:E,event:U}))};return e.noAria!==!0&&(ve.ariaLabel=Je.value(a)),R?R({scope:E}):_a(e,ve,H?H({scope:E}):D)}function le(a,y){const D=t["column-header-before"];if(D)return i("div",{class:"q-calendar-scheduler__column-header--before"},[D({scope:{timestamp:a,columnIndex:y}})])}function ie(a,y){const D=t["column-header-after"];if(D)return i("div",{class:"q-calendar-scheduler__column-header--after"},[D({scope:{timestamp:a,columnIndex:y}})])}function fe(){return i("div",{class:"q-calendar-scheduler__body"},[me()])}function me(){return j.value===!0?i("div",{ref:f,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[j.value!==!0&&_(),Be()]):e.noScroll===!0?ye():i("div",{ref:f,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[ye()])}function ye(){return i("div",{ref:b,class:"q-calendar-scheduler__pane"},[Be()])}function Be(){return i("div",{class:"q-calendar-scheduler__day--container"},[j.value===!0&&e.noHeader!==!0&&yt(),c()])}function c(a=void 0,y=0,D=!0){return a===void 0&&(a=e.modelResources),a.map((H,R)=>C(H,R,y,H.children!==void 0?H.expanded:D))}function C(a,y,D=0,H=!0){const R={};R.height=a.height!==void 0?J(parseInt(a.height,10)):Ve.value?J(Ve.value):"auto",Le.value>0&&(R.minHeight=J(Le.value));const E=i("div",{key:a[e.resourceKey]+"-"+y,class:{"q-calendar-scheduler__resource--row":!0},style:R},[r(a,y,D,H),_(a,y,D,H)]);return a.children!==void 0?[E,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":H===!0,"q-calendar__child--collapsed":H!==!0}},[c(a.children,D+1,H===!1?H:a.expanded)])]:[E]}function r(a,y,D=0,H=!0){const R=t["resource-label"],E={};E.height=a.height!==void 0?J(parseInt(a.height,10)):Ve.value?J(Ve.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(E.minHeight=J(parseInt(e.resourceMinHeight,10)));const ve=e.resourceStyle||X,U=a[e.resourceLabel],dt=e.focusable===!0&&e.focusType.includes("resource")&&H===!0,o={resource:a,timestamps:G.value,days:G.value,resourceIndex:y,indentLevel:D,label:U},I=a[e.resourceKey];o.droppable=V.value===I;const P=typeof e.resourceClass=="function"?e.resourceClass({scope:o}):{};return i("div",{key:a[e.resourceKey]+"-"+y,ref:Y=>{x.value[a[e.resourceKey]]=Y},tabindex:dt===!0?0:-1,class:{"q-calendar-scheduler__resource":D===0,"q-calendar-scheduler__resource--section":D!==0,...P,"q-calendar__sticky":j.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":dt===!0},style:{...E,...ve({scope:o})},onDragenter:Y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Y,"resource",o)===!0?V.value=I:V.value="")},onDragover:Y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Y,"resource",o)===!0?V.value=I:V.value="")},onDragleave:Y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Y,"resource",o)===!0?V.value=I:V.value="")},onDrop:Y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Y,"resource",o)===!0?V.value=I:V.value="")},onKeydown:Y=>{se(Y,[13,32])&&(Y.stopPropagation(),Y.preventDefault())},onKeyup:Y=>{se(Y,[13,32])&&N.value.onClickResource!==void 0&&n("click-resource",{scope:o,event:Y})},...ee("-resource",Y=>({scope:o,event:Y}))},[[i("div",{class:{"q-calendar__parent":a.children!==void 0,"q-calendar__parent--expanded":a.children!==void 0&&a.expanded===!0,"q-calendar__parent--collapsed":a.children!==void 0&&a.expanded!==!0},onClick:Y=>{Y.stopPropagation(),a.expanded=!a.expanded,n("resource-expanded",{expanded:a.expanded,scope:o})}}),i("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*D+2+"px"}},[R?R({scope:o}):U]),Ge()]])}function _(a,y,D=0,H=!0){const R=t["resource-days"],E=j.value===!0?J(h.value):We.value,ve={resource:a,resourceIndex:y,indentLevel:D,expanded:H,cellWidth:E,timestamps:G.value,days:G.value},U={};return U.height=parseInt(e.resourceHeight,10)>0?J(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(U.minHeight=J(parseInt(e.resourceMinHeight,10))),i("div",{class:"q-calendar-scheduler__resource--days",style:U},[...u(a,y,D,H),R&&R({scope:ve})])}function u(a,y,D=0,H=!0){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((R,E)=>E+parseInt(e.columnIndexStart,10)).map(R=>d(G.value[0],R,a,y,D,H)):G.value.map(R=>d(R,void 0,a,y,D,H))}function d(a,y,D,H,R=0,E=!0){const ve=t.day,U=e.dayStyle||De,dt=e.noActiveDate!==!0&&Oe.value.date===a.date,o=a.date+":"+D[e.resourceKey]+(y!==void 0?":"+y:""),I=V.value===o,P={timestamp:a,columnIndex:y,resource:D,resourceIndex:H,indentLevel:R,activeDate:dt,droppable:I},Y=j.value===!0?J(h.value):We.value,te={width:Y,maxWidth:Y,...U({scope:P})};te.height=parseInt(e.resourceHeight,10)>0?J(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(te.minHeight=J(parseInt(e.resourceMinHeight,10)));const de=typeof e.dayClass=="function"?e.dayClass({scope:P}):{},Pe=e.focusable===!0&&e.focusType.includes("day")&&E===!0;return i("div",{key:a.date+(y!==void 0?":"+y:""),tabindex:Pe===!0?0:-1,class:{"q-calendar-scheduler__day":R===0,"q-calendar-scheduler__day--section":R!==0,...de,...He(a),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Pe===!0},style:te,onDragenter:we=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(we,"day",P)===!0?V.value=o:V.value="")},onDragover:we=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(we,"day",P)===!0?V.value=o:V.value="")},onDragleave:we=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(we,"day",P)===!0?V.value=o:V.value="")},onDrop:we=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(we,"day",P)===!0?V.value=o:V.value="")},onKeydown:we=>{se(we,[13,32])&&(we.stopPropagation(),we.preventDefault())},onKeyup:we=>{se(we,[13,32])&&(B.value=P.timestamp.date,N.value.onClickResource!==void 0&&n("click-resource",{scope:P,event:we}))},...ee("-day-resource",we=>({scope:P,event:we}))},[ve&&ve({scope:P}),Ge()])}function v(){return i("div",{},"No resources have been defined")}function w(){const{start:a,end:y,maxDays:D}=Re.value;(Z.value!==a.date||z.value!==y.date||q.value!==D)&&(Z.value=a.date,z.value=y.date,q.value=D);const H=S.width>0,R=e.modelResources&&e.modelResources.length>0,E=vt(i("div",{key:Z.value,class:"q-calendar-scheduler"},[H===!0&&R===!0&&j.value!==!0&&e.noHeader!==!0&&yt(),H===!0&&R===!0&&fe(),R===!1&&v()]),[[kt,wt]]);if(e.animated===!0){const ve="q-calendar--"+($.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:ve,appear:!0},()=>E)}return E}return l({prev:Ae,next:$e,move:K,moveToToday:nt,updateCurrent:Te}),()=>ce()}});const ln={modelValue:{type:String,default:tt(),validator:e=>e===""||Oa(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>Qe(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(n=>{["day","date","weekday","interval","resource","task"].includes(n)!==!0&&(t=!1)}),t}},taskWidth:{type:Number,default:200,validator:e=>Qe(e)&&e>0}};function Yn(e,t,{weekdaySkips:n,times:l}){const f=A(()=>{if(e.view==="day")return Ee(e.modelValue);if(e.view==="week")return Xt(Ee(e.modelValue),e.weekdays,l.today);if(e.view==="month")return va(Ee(e.modelValue),e.weekdays,l.today);throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)}),b=A(()=>{if(e.view==="day"){if(e.viewCount===1)return f.value;let m=Se(f.value);return m=Me(m,{day:e.viewCount-1}),m}else if(e.view==="week"){if(e.viewCount===1)return Et(Ee(e.modelValue),e.weekdays,l.today);{let m=Se(f.value);return m=Me(m,{day:(e.viewCount-1)*Pt}),Et(m,e.weekdays,l.today)}}else if(e.view==="month"){if(e.viewCount===1)return Vt(Ee(e.modelValue),e.weekdays,l.today);{let m=Se(f.value);return m=Me(m,{month:e.viewCount}),Vt(m,e.weekdays,l.today)}}else throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)});return{days:A(()=>ba(f.value,b.value,l.today,n.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER)),parsedStartDate:f,parsedEndDate:b}}var Un=xt({name:"QCalendarTask",directives:[kt],props:{...Rt,...It,...ln},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...ua,...ta,...Ce("-date"),...Ce("-day"),...Ce("-head-day")],setup(e,{slots:t,emit:n,expose:l}){const f=g(null),b=g(null),s=g("next"),m=g(e.modelValue||tt()),F=g("0000-00-00"),O=g(0),x=g(e.modelValue),L=g(null),M=g(null),$=g({}),Z=Wt({width:0,height:0}),z=g(!1),q=g(null),B=g(null);ae(()=>e.view,()=>{O.value=0});const S=A(()=>e.view==="month"?"month-interval":e.view),T=Ot();if(T===null)throw new Error("current instance is null");const{emitListeners:V}=na(T),{times:he,setCurrent:be,updateCurrent:_e}=Jt(e);_e(),be();const{weekdaySkips:p,parsedStart:N,dayFormatter:j,weekdayFormatter:Q,ariaDateFormatter:k,dayStyleDefault:Te,getRelativeClasses:xe}=Gt(e,{startDate:m,endDate:F,times:he}),Ne=A(()=>Ee(e.modelValue,he.now)||N.value||he.today);M.value=Ne.value,L.value=Ne.value.date;const{renderValues:ot}=pt(e,{parsedView:S,times:he,parsedValue:Ne}),{rootRef:at,__initCalendar:Xe,__renderCalendar:Je}=jt(e,_,{scrollArea:f,pane:b}),{days:De,parsedStartDate:He,parsedEndDate:Oe}=Yn(e,n,{weekdaySkips:p,times:he}),{move:Re}=aa(e,{parsedView:S,parsedValue:Ne,weekdaySkips:p,direction:s,maxDays:O,times:he,emittedValue:x,emit:n}),{getDefaultMouseEventHandlers:qe}=ea(n,V),{checkChange:ut}=ra(n,{days:De,lastStart:q,lastEnd:B}),{isKeyCode:ge}=Lt(),{tryFocus:ce}=la(e,{rootRef:at,focusRef:L,focusValue:M,datesRef:$,days:De,parsedView:S,parsedValue:Ne,emittedValue:x,weekdaySkips:p,direction:s,times:he}),G=g(!0),h=A(()=>e.cellWidth!==void 0?parseInt(e.cellWidth,10):150),X=A(()=>e.focusable===!0&&e.focusType.includes("day")&&isMiniMode.value!==!0),K=A(()=>e.focusable===!0&&e.focusType.includes("date")&&X.value!==!0),ee=A(()=>e.focusable===!0&&e.focusType.includes("weekday")),oe=A(()=>parseInt(e.dayHeight,10)),se=A(()=>parseInt(e.dayMinHeight,10));ae([De],ut,{deep:!0,immediate:!0}),ae(()=>e.modelValue,(u,d)=>{if(x.value!==u){if(e.animated===!0){const v=ne(ke(u)),w=ne(ke(d));s.value=v>=w?"next":"prev"}x.value=u}L.value=u}),ae(x,(u,d)=>{if(x.value!==e.modelValue){if(e.animated===!0){const v=ne(ke(u)),w=ne(ke(d));s.value=v>=w?"next":"prev"}n("update:model-value",u)}}),ae(L,u=>{u&&(M.value=Ee(u))}),ae(M,u=>{$.value[L.value]?$.value[L.value].focus():ce()}),Yt(()=>{$.value={}}),Ut(()=>{Xe()});function ue(){x.value=tt()}function Fe(u=1){Re(u)}function re(u=1){Re(-u)}function Ve({width:u,height:d}){Z.width=u,Z.height=d}function Le(u){return u.date===x.value}function We(u,d,v){const w=t.day,a=e.dayStyle||Te,y=e.noActiveDate!==!0&&Ne.value.date===u.date,D={timestamp:u,task:d,taskIndex:v,activeDate:y},H=J(h.value),R={width:H,minWidth:H,maxWidth:H,...a({scope:D})},E=typeof e.dayClass=="function"?e.dayClass({scope:D}):{};return i("div",{tabindex:X.value===!0?0:-1,class:{"q-calendar-task__task--day":!0,...E,...xe(u),"q-active-date":y===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":X.value===!0},style:R,onFocus:ve=>{X.value},...qe("-day",ve=>({scope:D,event:ve})),onDragenter:ve=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ve,"day",D)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:ve=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ve,"day",D)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:ve=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ve,"day",D)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:ve=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ve,"day",D)===!0?dragOverResource.value=dragValue:dragOverResource.value="")}},[w&&w({scope:D}),Ge()])}function nt(u,d){return De.value.map(v=>We(v,u,d))}function $e(u,d){const v=t.days,w={timestamps:De.value,days:De.value,task:u,taskIndex:d,cellWidth:h.value};return i("div",{class:"q-calendar-task__task--days-row"},[nt(u,d),v&&v({scope:w})])}function Ae(u,d,v=0,w=!0){const a=t.task,y={start:He.value,end:Oe.value,task:u,taskIndex:d,expanded:w},D=J(e.taskWidth),H={width:D,minWidth:D,maxWidth:D},R=e.focusable===!0&&e.focusType.includes("task");return i("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":G.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":R===!0},style:H},[i("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*v+"px"}},[i("div",{class:{"q-calendar__parent":u.children!==void 0,"q-calendar__parent--expanded":u.children!==void 0&&u.expanded===!0,"q-calendar__parent--collapsed":u.children!==void 0&&u.expanded!==!0},onClick:E=>{E.stopPropagation(),u.expanded=!u.expanded,n("task-expanded",{expanded:u.expanded,scope:y})}})]),a&&a({scope:y}),Ge()])}function wt(u,d,v=0,w=!0){const a=u.height!==void 0?J(parseInt(u.height,10)):oe.value>0?J(oe.value):"auto",y=se.value>0?J(se.value):void 0,D={height:a};y!==void 0&&(D.minHeight=y);const H=i("div",{key:u[e.taskKey]+"-"+d,class:{"q-calendar-task__task":v===0,"q-calendar-task__task--section":v!==0},style:D},[Ae(u,d,v,w),$e(u,d)]);return u.children!==void 0?[H,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":w===!0,"q-calendar__child--collapsed":w!==!0}},[ze(u.children,v+1,w===!1?w:u.expanded)])]:[H]}function ze(u=void 0,d=0,v=!0){return u===void 0&&(u=e.modelTasks),u.map((w,a)=>wt(w,a,d,w.children!==void 0?w.expanded:v))}function yt(){return i("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":G.value===!0}},[ze()])}function st(u,d){const v=t["footer-task"],w={start:He.value,end:Oe.value,footer:u,index:d},a=J(e.taskWidth),y={width:a,minWidth:a,maxWidth:a};return i("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":G.value===!0},style:y},[v&&v({scope:w})])}function rt(u,d,v){const w=t["footer-day"],a={timestamp:u,footer:d,index:v},y=J(h.value),D={width:y,minWidth:y,maxWidth:y},H=typeof e.footerDayClass=="function"?e.footerDayClass({scope:a}):{};return i("div",{class:{"q-calendar-task__footer--day":!0,...H,...xe(u),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":X.value===!0},style:D},[w&&w({scope:a})])}function ft(u,d){return i("div",{class:"q-calendar-task__footer--day-wrapper"},[De.value.map(v=>rt(v,u,d))])}function ht(){const u=e.focusable===!0&&e.focusType.includes("task");return e.modelFooter.map((d,v)=>i("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":u===!0}},{default:()=>[st(d,v),ft(d,v)]}))}function _t(){return i("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":G.value===!0}},ht())}function bt(){return i("div",{class:{"q-calendar-task__container":!0}},[e.noHeader!==!0&&c(),yt(),_t()])}function lt(){const u=t["head-tasks"],d={start:He.value,end:Oe.value},v=J(parseInt(e.taskWidth,10)),w={width:v,minWidth:v,maxWidth:v};return i("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":G.value===!0},style:w},[u&&u({scope:d})])}function Ye(u,d){const v=t["title-task"],w=J(parseInt(e.taskWidth,10)),a={width:w,minWidth:w,maxWidth:w},y={start:He.value,end:Oe.value,cellWidth:w,title:u,index:d};return i("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":G.value===!0},style:a},[v&&v({scope:y})])}function Ue(u){const d=t["head-weekday-label"],w={activeDate:e.noActiveDate!==!0&&Le(u),timestamp:u,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},a={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",a,d&&d({scope:w})||Ie(u,e.shortWeekdayLabel))}function Ie(u,d){const v=Q.value(u,d||e.weekdayBreakpoints[0]>0&&h.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&h.value<=e.weekdayBreakpoints[1]?ya(v,e.minWeekdayLabel):v)}function pe(u){const d={class:{"q-calendar-task__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",d,et(u))}function et(u){const d=e.noActiveDate!==!0&&Le(u),v=j.value(u,!1),w=t["head-day-label"],a=t["head-day-button"],y={dayLabel:v,timestamp:u,activeDate:d},H={key:u.date,tabindex:K.value===!0?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":u.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":K.value===!0},disabled:u.disabled,onKeydown:R=>{u.disabled!==!0&&ge(R,[13,32])&&(R.stopPropagation(),R.preventDefault())},onKeyup:R=>{u.disabled!==!0&&ge(R,[13,32])&&(x.value=u.date,V.value.onClickDate!==void 0&&n("click-date",{scope:y}))},...qe("-date",(R,E)=>((E==="click-date"||E==="contextmenu-date")&&(x.value=u.date,E==="click-date"&&R.preventDefault()),{scope:y,event:R}))};return e.noAria!==!0&&(H.ariaLabel=k.value(u)),a?a({scope:y}):_a(e,H,w?w({scope:y}):v)}function W(u){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ue(u),e.noDefaultHeaderBtn!==!0&&pe(u)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(u),e.noDefaultHeaderBtn!==!0&&pe(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(u),e.noDefaultHeaderBtn!==!0&&pe(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ue(u),e.noDefaultHeaderBtn!==!0&&pe(u)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&pe(u),e.noDefaultHeaderText!==!0&&Ue(u)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&pe(u),e.noDefaultHeaderText!==!0&&Ue(u)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&pe(u),e.noDefaultHeaderText!==!0&&Ue(u)])}function le(u,d,v){const w=t["title-day"],a=J(h.value),y={width:a,minWidth:a,maxWidth:a},D={timestamp:u,title:d,index:v,cellWidth:h.value},H=typeof e.dayClass=="function"?e.dayClass({scope:D}):{},R=e.focusable===!0&&e.focusType.includes("day");return i("div",{class:{"q-calendar-task__title--day":!0,...H,...xe(u),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":R===!0},style:y},[w&&w({scope:D}),Ge()])}function ie(u){const d=t["head-day"],v=t["head-date"],w=e.noActiveDate!==!0&&Le(u),a={timestamp:u,activeDate:w,droppable:z.value=u.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(u.weekday):!1},y=e.weekdayStyle||Te,D=typeof e.weekdayClass=="function"?e.weekdayClass({scope:a}):{},H=J(h.value),R={width:H,minWidth:H,maxWidth:H,...y({scope:a})},E=u.date,ve={key:E,ref:U=>{$.value[E]=U},tabindex:ee.value===!0?0:-1,class:{"q-calendar-task__head--day":!0,...D,...xe(u),"q-active-date":w,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ee.value===!0},style:R,onFocus:U=>{ee.value===!0&&(L.value=E)},onKeydown:U=>{u.disabled!==!0&&ge(U,[13,32])&&(U.stopPropagation(),U.preventDefault())},onKeyup:U=>{u.disabled!==!0&&ge(U,[13,32])&&(x.value=u.date)},...qe("-head-day",U=>({scope:a,event:U})),onDragenter:U=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(U,"head-day",a)===!0?z.value=u.date:z.value="")},onDragover:U=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(U,"head-day",a)===!0?z.value=u.date:z.value="")},onDragleave:U=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(U,"head-day",a)===!0?z.value=u.date:z.value="")},onDrop:U=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(U,"head-day",a)===!0?z.value=u.date:z.value="")}};return i("div",ve,[d!==void 0&&d({scope:a}),d===void 0&&W(u),d===void 0&&v&&v({scope:a}),Ge()])}function fe(){return De.value.map(u=>ie(u))}function me(u,d){return De.value.map(v=>le(v,u,d))}function ye(){return i("div",{class:{"q-calendar-task__head--days":!0}},[...fe()])}function Be(u,d){return i("div",{class:{"q-calendar-task__title--days":!0}},[...me(u,d)])}function c(){return i("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":G.value===!0},style:{}},[i("div",{style:{position:"relative",display:"flex"}},[lt(),ye()]),e.modelTitle.map((u,d)=>i("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[Ye(u,d),Be(u,d)]))])}function C(){return i("div",{class:"q-calendar-task__body"},[r()])}function r(){return i("div",{ref:f,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[bt()])}function _(){const{start:u,end:d}=ot.value;m.value=u.date,F.value=d.date;const v=Z.width>0,w=vt(i("div",{key:m.value,class:"q-calendar-task"},[v===!0&&C()]),[[kt,Ve]]);if(e.animated===!0){const a="q-calendar--"+(s.value==="prev"?e.transitionPrev:e.transitionNext);return i(Qt,{name:a,appear:!0},()=>w)}return w}return l({prev:re,next:Fe,move:Re,moveToToday:ue,updateCurrent:_e}),()=>Je()}});xt({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...Zt,...rn,...Rt,...ga,...It,...Ma,...tn,...an,...ha,...ln},setup(e,{attrs:t,slots:n,expose:l}){const f=g(null),b=A(()=>{switch(e.mode){case"agenda":return Pn;case"resource":return zn;case"scheduler":return Vn;case"month":return $n;case"day":return Ya;case"task":return Un;case"day":default:return Ya}});function s(){f.value.moveToToday()}function m(T=-1){f.value.move(T)}function F(T=1){f.value.next(T)}function O(T=1){f.value.prev(T)}function x(){f.value.updateCurrent()}function L(T,V=!0){return f.value.timeStartPos(T,V)}function M(T,V=!0){return f.value.timeStartPosX(T,V)}function $(T){return f.value.timeDurationWidth(T)}function Z(T){return f.value.timeDurationHeight(T)}function z(T){return f.value.heightToMinutes(T)}function q(T){return f.value.widthToMinutes(minutes)}function B(T){return f.value.scrollToTime(T)}function S(T){return f.value.scrollToTimeX(T)}return l({prev:O,next:F,move:m,moveToToday:s,updateCurrent:x,timeStartPos:L,timeStartPosX:M,timeDurationWidth:$,timeDurationHeight:Z,heightToMinutes:z,widthToMinutes:q,scrollToTime:B,scrollToTimeX:S}),()=>i(b.value,{ref:f,...e,...t},n)}});const Sa=e=>(on("data-v-eaa18e8c"),e=e(),sn(),e),Qn={class:"row padded"},Xn={class:"col-xs-12 col-sm-12 col-md-6"},jn={class:"row"},Zn={class:"col-xs-12 col-sm-12 col-md-6"},Gn={class:"row relative flex-start-center"},Jn=Sa(()=>gt("div",{class:"filler"},null,-1)),pn=Sa(()=>gt("div",{class:"filler"},null,-1)),eu=Sa(()=>gt("div",{class:"filler"},null,-1)),tu={class:"row relative flex flex-start-center op-conatiner"},au=Sa(()=>gt("div",{class:"filler"},null,-1)),nu={class:"row"},uu={class:"no-border text-gray margin",unelevated:""};function ru(e,t,n,l,f,b){return ca(),ka(wa,null,[gt("div",Qn,[gt("div",Xn,[gt("div",jn,[Ze(Bt,{class:"lg-border text-dark-green bold margin sp",rounded:"",unelevated:"",onClick:t[0]||(t[0]=s=>e.toDay())},{default:it(()=>[Ft("\u4ECA\u5929")]),_:1})])]),gt("div",Zn,[gt("div",Gn,[Jn,Ze(Bt,{class:"lg-border text-dark-green bold margin",rounded:"",unelevated:"",onClick:t[1]||(t[1]=s=>{e.showRole=!0,e.showFil=!1,e.showOp=!1})},{default:it(()=>[Ft(St(e.role),1),pn,Ze(oa,{class:"text-lg",name:"expand_more"})]),_:1}),Ze(Bt,{class:"lg-border text-dark-green bold margin sp",rounded:"",unelevated:"",onClick:t[2]||(t[2]=s=>{e.showFil=!0,e.showOp=!1,e.showRole=!1})},{default:it(()=>[Ft(St(e.filter_act),1),Ze(oa,{class:"text-lg",name:"expand_more"})]),_:1}),Ze(Bt,{class:"lg-border text-dark-green bold margin",rounded:"",unelevated:"",onClick:t[3]||(t[3]=s=>{e.showOp=!0,e.showFil=e.falseshowRole=!1})},{default:it(()=>[Ft(St(e.op),1),eu,Ze(oa,{class:"text-lg",name:"expand_more"})]),_:1})]),gt("div",tu,[au,vt(Ze(Wa,{id:"op3"},{default:it(()=>[vt(Ze(sa,{class:"text-dark-green flex flex-start-center",clickable:"",onClick:t[4]||(t[4]=s=>e.setRole("\u8001\u5E2B"))},{default:it(()=>[Ft("\u8001\u5E2B ")]),_:1},512),[[Mt,e.inTeacher]]),vt(Ze(sa,{class:"text-dark-green flex flex-start-center",clickable:"",onClick:t[5]||(t[5]=s=>e.setRole("\u5BB6\u9577"))},{default:it(()=>[Ft("\u5BB6\u9577")]),_:1},512),[[Mt,!e.inTeacher]]),(ca(!0),ka(wa,null,Ta(e.me.childern,(s,m)=>vt((ca(),cn(sa,{class:"text-dark-green flex flex-start-center",clickable:"",key:m,onClick:F=>e.setRole(s.name)},{default:it(()=>[Ft("\u5B78\u751F"+St(m+1)+"\uFF1A"+St(s.name),1)]),_:2},1032,["onClick"])),[[Mt,!e.inTeacher]])),128))]),_:1},512),[[Mt,e.showRole]]),vt(Ze(Wa,{id:"op2"},{default:it(()=>[(ca(),ka(wa,null,Ta(["\u6240\u6709\u6D3B\u52D5","\u7531\u6211\u958B\u7684\u6D3B\u52D5","\u5373\u5C07\u958B\u59CB","\u5DF2\u7D50\u675F\u6D3B\u52D5"],(s,m)=>Ze(sa,{class:"text-dark-green flex flex-start-center",clickable:"",key:m,onClick:F=>e.setFil(s)},{default:it(()=>[Ft(St(s),1)]),_:2},1032,["onClick"])),64))]),_:1},512),[[Mt,e.showFil]]),vt(Ze(Wa,{id:"op"},{default:it(()=>[(ca(),ka(wa,null,Ta(["\u6708","\u6D3B\u52D5\u4E00\u89BD"],(s,m)=>Ze(sa,{class:"text-dark-green flex flex-start-center",clickable:"",key:m,onClick:F=>e.setOp(s)},{default:it(()=>[Ft(St(s),1)]),_:2},1032,["onClick"])),64))]),_:1},512),[[Mt,e.showOp]])])])]),gt("div",nu,[Ze(Bt,{class:"no-border text-gray margin",unelevated:"",onClick:t[6]||(t[6]=s=>e.prev())},{default:it(()=>[Ze(oa,{name:"arrow_back_ios"})]),_:1}),Ze(Bt,{class:"no-border text-gray margin",unelevated:"",onClick:t[7]||(t[7]=s=>e.next())},{default:it(()=>[Ze(oa,{name:"arrow_forward_ios"})]),_:1}),gt("h6",uu,St(e.par(e.selectedDate)),1)])],64)}const lu=xt({name:"NavBar",props:["selectedDate","op","filter_act","role","me","inTeacher"],setup(){const e=g(""),t=g(""),n=g(!1),l=g(!1);return{showOp:g(!1),showFil:l,showRole:n,email:e,password:t}},methods:{par(e){const t=e.split("-");return t[0]+"\u5E74"+t[1]+"\u6708"},toDay(){this.$emit("today")},prev(){this.$emit("prev")},next(){this.$emit("next")},setRole(e){this.$emit("setRole",e),this.showRole=!1},setOp(e){this.$emit("setOp",e),this.showOp=!1},setFil(e){this.$emit("setFil",e),this.showFil=!1}}});var fu=fn(lu,[["render",ru],["__scopeId","data-v-eaa18e8c"]]);export{fu as N,$n as Q,kn as p,tt as t};
